(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{458:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å¦‚ä½•å­¦ä¹ -webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•å­¦ä¹ -webpack"}},[t._v("#")]),t._v(" å¦‚ä½•å­¦ä¹  Webpack")]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ“Œ "),a("strong",[t._v("æç¤ºï¼š")])]),t._v(" "),a("p",[t._v("æœ¬æ–‡æ˜¯ "),a("a",{attrs:{href:"https://github.com/petehunt/webpack-howto/blob/master/README-zh.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-howto"),a("OutboundLink")],1),t._v(" çš„åŸæ–‡ï¼Œæˆ‘è§‰å¾—è¿™ç¯‡æ–‡ç« å†™å¾—éå¸¸å¥½ï¼Œç¡®å®ç®—æ˜¯ç›®å‰å­¦ä¹  webpack å…¥é—¨çš„å¿…è¯»æ–‡ç« ã€‚ç›´æ¥æ”¶å½•ä¹‹ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"æœ¬æ•™ç¨‹çš„ç›®æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬æ•™ç¨‹çš„ç›®æ ‡"}},[t._v("#")]),t._v(" æœ¬æ•™ç¨‹çš„ç›®æ ‡")]),t._v(" "),a("p",[t._v("è¿™æ˜¯ä¸€æœ¬æ•™ä½ å¦‚ä½•åº”ç”¨webpackåˆ°ä½ çš„é¡¹ç›®ä¸­çš„å·¥å…·ä¹¦ã€‚å®ƒåŒ…å«äº†æˆ‘ä»¬åœ¨"),a("code",[t._v("Instagram")]),t._v("ä¸­ç”¨åˆ°çš„ç»å¤§å¤šæ•°çš„å†…å®¹ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘çš„å»ºè®®ï¼šè¿™ä¸ªæ•™ç¨‹ä½œä¸ºä½ ç¬¬ä¸€ä¸ª"),a("code",[t._v("webpack")]),t._v("çš„æ–‡æ¡£ï¼Œå­¦ä¹ å®Œä»¥åå»çœ‹å®ƒçš„å®˜æ–¹æ–‡æ¡£ï¼Œäº†è§£æ›´è¯¦ç»†çš„è¯´æ˜ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å­¦ä¹ çš„å‰æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å­¦ä¹ çš„å‰æ"}},[t._v("#")]),t._v(" å­¦ä¹ çš„å‰æ")]),t._v(" "),a("ul",[a("li",[t._v("ä½ äº†è§£è¿‡ç±»ä¼¼"),a("code",[t._v("browserify")]),t._v("ã€"),a("code",[t._v("RequireJS")]),t._v("çš„ä¸œè¥¿")]),t._v(" "),a("li",[t._v("ä½ çŸ¥é“:\n"),a("ul",[a("li",[t._v("Bundleçš„æ‹†åˆ†\n"),a("ul",[a("li",[t._v("å¼‚æ­¥çš„åŠ è½½")]),t._v(" "),a("li",[t._v("æ‰“åŒ…imageså’Œcssçš„è¿™ä¸€ç±»çš„é™æ€èµ„æº")])])])])])]),t._v(" "),a("h2",{attrs:{id:"_1-ä¸ºä»€ä¹ˆé€‰æ‹©-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä¸ºä»€ä¹ˆé€‰æ‹©-webpack"}},[t._v("#")]),t._v(" 1. ä¸ºä»€ä¹ˆé€‰æ‹© webpack?")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å®ƒå’Œbrowserifyç±»ä¼¼")]),t._v(" ä½†æ˜¯å®ƒå¯ä»¥æŠŠä½ çš„åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ã€‚å¦‚æœä½ çš„å•é¡µåº”ç”¨é‡Œæœ‰å¾ˆå¤šé¡µé¢ï¼Œç”¨æˆ·åªä¼šä¸‹è½½å½“å‰è®¿é—®é¡µé¢çš„ä»£ç ã€‚å½“ä»–ä»¬è®¿é—®åº”ç”¨ä¸­çš„å…¶ä»–é¡µé¢æ—¶ï¼Œä¸å†éœ€è¦åŠ è½½ä¸ä¹‹å‰é¡µé¢é‡å¤çš„é€šç”¨ä»£ç ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("å®ƒå¯ä»¥æ›¿ä»£gulpå’Œgrunt")]),t._v(" å› ä¸ºä»–å¯ä»¥æ„å»ºæ‰“åŒ…cssã€é¢„å¤„ç†cssã€ç¼–è¯‘jså’Œå›¾ç‰‡ç­‰ã€‚")])]),t._v(" "),a("p",[t._v("å®ƒæ”¯æŒAMDå’ŒCommonJSï¼Œä»¥åŠå…¶ä»–çš„æ¨¡å—ç³»ç»Ÿ(Angular, ES6)ã€‚å¦‚æœä½ ä¸å¤ªç†Ÿæ‚‰å¦‚ä½•ä½¿ç”¨ï¼Œå°±ç”¨CommonJSå§ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_2-å¯¹äºä¹ æƒ¯browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¯¹äºä¹ æƒ¯browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨webpack"}},[t._v("#")]),t._v(" 2. å¯¹äºä¹ æƒ¯Browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨Webpack")]),t._v(" "),a("p",[t._v("ä¸‹é¢çš„å‘½ä»¤æ˜¯ç­‰ä»·çš„:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("browserify main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" bundle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("webpack main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js bundle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n")])])]),a("p",[t._v("ç„¶è€Œï¼Œwebpackè¦æ¯”Browserifyå¼ºå¤§ã€‚æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ä½ éœ€è¦å»ºç«‹ä¸€ä¸ª"),a("code",[t._v("webpack.config.js")]),t._v("æ–‡ä»¶æ¥é…ç½®webpackã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("è¿™å°±æ˜¯å•çº¯çš„JSï¼Œæ‰€æœ‰å†™è¿™ä¸ªé…ç½®æ–‡ä»¶æ¯«æ— å‹åŠ›ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_3-å¦‚ä½•è°ƒç”¨webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¦‚ä½•è°ƒç”¨webpack"}},[t._v("#")]),t._v(" 3. å¦‚ä½•è°ƒç”¨webpack")]),t._v(" "),a("p",[t._v("é€‰æ‹©ä¸€ä¸ªç›®å½•ä¸‹æœ‰"),a("code",[t._v("webpack.config.js")]),t._v("æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("webpack")]),t._v(" å¼€å‘ç¯å¢ƒä¸‹ç¼–è¯‘")]),t._v(" "),a("li",[a("code",[t._v("webpack -p")]),t._v(" äº§å“ç¼–è¯‘åŠå‹ç¼©\n"),a("ul",[a("li",[a("code",[t._v("webpack --watch")]),t._v(" å¼€å‘ç¯å¢ƒä¸‹æŒç»­çš„ç›‘å¬æ–‡ä»¶å˜åŠ¨æ¥è¿›è¡Œç¼–è¯‘(éå¸¸å¿«!)")]),t._v(" "),a("li",[a("code",[t._v("webpack -d")]),t._v(" å¼•å…¥ source maps")])])])]),t._v(" "),a("h2",{attrs:{id:"_4-ç¼–è¯‘js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç¼–è¯‘js"}},[t._v("#")]),t._v(" 4. ç¼–è¯‘js")]),t._v(" "),a("p",[t._v("webpackå¯ä»¥å’Œbrowserifyã€RequireJSä¸€æ ·ä½œä¸ºä¸€ä¸ª"),a("strong",[t._v("loader")]),t._v("(åŠ è½½å·¥å…·)æ¥ä½¿ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨webpackå»åŠ è½½ã€ç¼–è¯‘CoffeeScriptå’ŒJSX+ES6ã€‚(è¿™é‡Œä½ å¿…é¡»å…ˆ "),a("code",[t._v("npm install babel-loader coffee-loader")]),t._v("):")]),t._v(" "),a("p",[t._v("ä½ ä¹Ÿè¦çœ‹ä¸‹"),a("a",{attrs:{href:"https://www.npmjs.com/package/babel-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-loaderçš„ä»‹ç»"),a("OutboundLink")],1),t._v("ï¼Œå®ƒä¼šä½œä¸ºä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„ä¾èµ–åŠ è½½åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­(run "),a("code",[t._v("npm install babel-core babel-preset-es2015 babel-preset-react")]),t._v(")")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…¥å£æ–‡ä»¶")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loaders"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.coffee$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// test å»åˆ¤æ–­æ˜¯å¦ä¸º.coffeeçš„æ–‡ä»¶,æ˜¯çš„è¯å°±æ˜¯è¿›è¡Œcoffeeç¼–è¯‘")]),t._v("\n        loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'coffee-loader'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// test å»åˆ¤æ–­æ˜¯å¦ä¸º.js,æ˜¯çš„è¯å°±æ˜¯è¿›è¡Œes6å’Œjsxçš„ç¼–è¯‘")]),t._v("\n        loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        query"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es2015'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¦‚æœä½ å¸Œæœ›åœ¨requireæ–‡ä»¶æ—¶çœç•¥æ–‡ä»¶çš„æ‰©å±•åï¼Œåªéœ€è¦åœ¨webpack.config.jsä¸­æ·»åŠ  "),a("code",[t._v("resolve.extensions")]),t._v(" æ¥é…ç½®ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loaders"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.coffee$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'coffee-loader'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        query"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'es2015'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  resolve"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç°åœ¨ä½ requireæ–‡ä»¶çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨require('file')ï¼Œä¸ç”¨ä½¿ç”¨require('file.coffee')")]),t._v("\n    extensions"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.coffee'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"_5-cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½"}},[t._v("#")]),t._v(" 5. Cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½")]),t._v(" "),a("p",[t._v("é¦–å…ˆä½ éœ€è¦ç”¨"),a("code",[t._v("require()")]),t._v("å»åŠ è½½ä½ çš„é™æ€èµ„æº(named as they would with node's "),a("code",[t._v("require()")]),t._v("):")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./bootstrap.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./myapp.less'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nimg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./glyph.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å½“ä½ requireäº†CSS(lessæˆ–è€…å…¶ä»–)æ–‡ä»¶ï¼Œwebpackä¼šåœ¨é¡µé¢ä¸­æ’å…¥ä¸€ä¸ªå†…è”çš„"),a("code",[t._v("<style>")]),t._v("ï¼Œå»å¼•å…¥æ ·å¼ã€‚å½“requireå›¾ç‰‡çš„æ—¶å€™ï¼Œbundleæ–‡ä»¶ä¼šåŒ…å«å›¾ç‰‡çš„urlï¼Œå¹¶é€šè¿‡"),a("code",[t._v("require()")]),t._v("è¿”å›å›¾ç‰‡çš„urlã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¯è¿™éœ€è¦ä½ åœ¨"),a("code",[t._v("webpack.config.js")]),t._v("åšç›¸åº”çš„é…ç½®(è¿™é‡Œè¿˜æ˜¯ä½¿ç”¨loaders)")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å›¾ç‰‡å’Œjsä¼šæ”¾åœ¨è¿™")]),t._v("\n    publicPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://mycdn.com/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œç”¨æ¥ç”Ÿæˆå›¾ç‰‡çš„åœ°å€")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loaders"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.less$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style-loader!css-loader!less-loader'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨!å»é“¾å¼è°ƒç”¨loader")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.css$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style-loader!css-loader'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.(png|jpg)$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url-loader?limit=8192'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å†…è”çš„base64çš„å›¾ç‰‡åœ°å€ï¼Œå›¾ç‰‡è¦å°äº8kï¼Œç›´æ¥çš„urlçš„åœ°å€åˆ™ä¸è§£æ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"_6-åŠŸèƒ½æ ‡è¯†-feature-flags"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-åŠŸèƒ½æ ‡è¯†-feature-flags"}},[t._v("#")]),t._v(" 6. åŠŸèƒ½æ ‡è¯†ï¼ˆFeature flagsï¼‰")]),t._v(" "),a("p",[t._v("é¡¹ç›®ä¸­æœ‰äº›ä»£ç æˆ‘ä»¬åªä¸ºåœ¨å¼€å‘ç¯å¢ƒï¼ˆä¾‹å¦‚æ—¥å¿—ï¼‰æˆ–è€…æ˜¯å†…éƒ¨æµ‹è¯•ç¯å¢ƒï¼ˆä¾‹å¦‚é‚£äº›æ²¡æœ‰å‘å¸ƒçš„æ–°åŠŸèƒ½ï¼‰ä¸­ä½¿ç”¨ï¼Œé‚£å°±éœ€è¦å¼•å…¥ä¸‹é¢è¿™äº›é­”æ³•å…¨å±€å˜é‡ï¼ˆmagic globalsï¼‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__DEV__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Extra logging'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__PRERELEASE__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showSecretFeature")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("åŒæ—¶è¿˜è¦åœ¨webpack.config.jsä¸­é…ç½®è¿™äº›å˜é‡ï¼Œä½¿å¾—webpackèƒ½å¤Ÿè¯†åˆ«ä»–ä»¬ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// definePlugin ä¼šæŠŠå®šä¹‰çš„string å˜é‡æ’å…¥åˆ°Jsä»£ç ä¸­ã€‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" definePlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("webpack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DefinePlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  __DEV__"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BUILD_DEV")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'true'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  __PRERELEASE__"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BUILD_PRERELEASE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'false'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("definePlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("BUILD_DEV=1 BUILD_PRERELEASE=1 webpack")]),t._v("æ¥æ‰“åŒ…ä»£ç äº†ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ"),a("code",[t._v("webpack -p")]),t._v(" ä¼šåˆ é™¤æ‰€æœ‰æ— ä½œç”¨ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´é‚£äº›åŒ…è£¹åœ¨è¿™äº›å…¨å±€å˜é‡ä¸‹çš„ä»£ç å—éƒ½ä¼šè¢«åˆ é™¤ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è¿™äº›ä»£ç ä¸ä¼šå› å‘å¸ƒä¸Šçº¿è€Œæ³„éœ²ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_7-å¤šä¸ªå…¥å£æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-å¤šä¸ªå…¥å£æ–‡ä»¶"}},[t._v("#")]),t._v(" 7. å¤šä¸ªå…¥å£æ–‡ä»¶")]),t._v(" "),a("p",[t._v("å¦‚æœä½ æœ‰ä¸¤ä¸ªé¡µé¢ï¼šprofileå’Œfeedã€‚å¦‚æœä½ å¸Œæœ›ç”¨æˆ·è®¿é—®profileé¡µé¢æ—¶ä¸åŠ è½½feedé¡µé¢çš„ä»£ç ï¼Œé‚£å°±éœ€è¦ç”Ÿæˆå¤šä¸ªbundlesæ–‡ä»¶ï¼šä¸ºæ¯ä¸ªé¡µé¢åˆ›å»ºè‡ªå·±çš„â€œmain moduleâ€ï¼ˆå…¥å£æ–‡ä»¶ï¼‰ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Profile"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./profile.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Feed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./feed.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[name].js'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// nameæ˜¯åŸºäºä¸Šè¾¹entryä¸­å®šä¹‰çš„key")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("åœ¨profileé¡µé¢ä¸­æ’å…¥"),a("code",[t._v('<script src="build/Profile.js"><\/script>')]),t._v("ã€‚feedä¹Ÿä¸€æ ·ã€‚")]),t._v(" "),a("h2",{attrs:{id:"_8-ä¼˜åŒ–é€šç”¨ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-ä¼˜åŒ–é€šç”¨ä»£ç "}},[t._v("#")]),t._v(" 8. ä¼˜åŒ–é€šç”¨ä»£ç ")]),t._v(" "),a("p",[t._v("Feedå’ŒProfileé¡µé¢å­˜åœ¨å¤§é‡é€šç”¨ä»£ç (æ¯”å¦‚Reactã€å…¬å…±çš„æ ·å¼å’Œç»„ä»¶ç­‰ç­‰)ã€‚webpackå¯ä»¥æŠ½ç¦»é¡µé¢é—´å…¬å…±çš„ä»£ç ï¼Œç”Ÿæˆä¸€ä¸ªå…¬å…±çš„bundleæ–‡ä»¶ï¼Œä¾›è¿™ä¸¤ä¸ªé¡µé¢ç¼“å­˜ä½¿ç”¨:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" webpack "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'webpack'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" commonsPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("webpack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("optimize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CommonsChunkPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'common.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•å…¥æ’ä»¶")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Profile"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./profile.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Feed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./feed.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[name].js'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸ºä¸Šé¢entryçš„keyå€¼")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("commonsPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("åœ¨ä¸Šä¸€æ­¥å¼•å…¥è‡ªå·±çš„bundleä¹‹å‰å¼•å…¥"),a("code",[t._v('<script src="build/common.js"><\/script>')])]),t._v(" "),a("h2",{attrs:{id:"_9-å¼‚æ­¥åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-å¼‚æ­¥åŠ è½½"}},[t._v("#")]),t._v(" 9. å¼‚æ­¥åŠ è½½")]),t._v(" "),a("p",[t._v("è™½ç„¶CommonJSæ˜¯åŒæ­¥åŠ è½½çš„ï¼Œä½†æ˜¯webpackä¹Ÿæä¾›äº†å¼‚æ­¥åŠ è½½çš„æ–¹å¼ã€‚è¿™å¯¹äºå•é¡µåº”ç”¨ä¸­ä½¿ç”¨çš„å®¢æˆ·ç«¯è·¯ç”±éå¸¸æœ‰ç”¨ã€‚å½“çœŸæ­£è·¯ç”±åˆ°äº†æŸä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå®ƒçš„ä»£ç æ‰ä¼šè¢«åŠ è½½ä¸‹æ¥ã€‚")]),t._v(" "),a("p",[t._v("æŒ‡å®šä½ è¦å¼‚æ­¥åŠ è½½çš„ "),a("strong",[t._v("æ‹†åˆ†ç‚¹")]),t._v("ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/feed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showLoadingState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™ä¸ªè¯­æ³•ç—•å¥‡æ€ªï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥èµ·ä½œç”¨çš„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideLoadingState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./feed'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“è¿™ä¸ªå‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œæ­¤æ¨¡å—æ˜¯ä¸€å®šå·²ç»è¢«åŒæ­¥åŠ è½½ä¸‹æ¥äº†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/profile'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showLoadingState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideLoadingState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./profile'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å‰©ä¸‹çš„äº‹å°±å¯ä»¥äº¤ç»™webpackï¼Œå®ƒä¼šä¸ºä½ ç”Ÿæˆå¹¶åŠ è½½è¿™äº›é¢å¤–çš„ "),a("strong",[t._v("chunk")]),t._v(" æ–‡ä»¶ã€‚")]),t._v(" "),a("p",[t._v("webpack é»˜è®¤ä¼šä»é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å¼•å…¥è¿™äº›chunkæ–‡ä»¶ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ "),a("code",[t._v("output.publicPath")]),t._v("æ¥é…ç½®chunkæ–‡ä»¶çš„å¼•å…¥è·¯å¾„")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\noutput"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/proj/public/assets"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpackçš„buildè·¯å¾„")]),t._v("\n    publicPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/assets/"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½ requireçš„è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"å…¶ä»–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–"}},[t._v("#")]),t._v(" å…¶ä»–")]),t._v(" "),a("p",[t._v("çœ‹ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œ"),a("a",{attrs:{href:"http://youtu.be/VkTCL6Nqm6Y",target:"_blank",rel:"noopener noreferrer"}},[t._v("çœ‹çœ‹ä»–ä»¬æ˜¯æ€ä¹ˆä½¿ç”¨webpack"),a("OutboundLink")],1),t._v("ã€‚è¿™æ˜¯Pete Huntåœ¨Instagram.comä¸­è°ˆè®ºwebpackçš„è§†é¢‘ã€‚")]),t._v(" "),a("h2",{attrs:{id:"faq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),a("h3",{attrs:{id:"webpack-ä¸ä»…ä»…æ˜¯ä¸ªmodular"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-ä¸ä»…ä»…æ˜¯ä¸ªmodular"}},[t._v("#")]),t._v(" webpack ä¸ä»…ä»…æ˜¯ä¸ªmodular")]),t._v(" "),a("p",[t._v("ç›¸æ¯”è¾ƒbrowserifyå’Œbrowserifyï¼Œåœ¨ä½ çš„é¡¹ç›®ä¸­å¤§é‡çš„ä½¿ç”¨webpackæ’ä»¶æ‰èƒ½ä½“ç°å‡ºwebpackçš„ä¼˜åŠ¿ã€‚å½“ä½¿ç”¨äº†æ’ä»¶åï¼Œä»£ç æ‰ä¼šè¢«å¤å†™ã€‚å…¶ä½™çš„éƒ½æ˜¯é»˜è®¤åŠ è½½ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);