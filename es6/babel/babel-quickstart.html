<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Babel å¿«é€Ÿå…¥é—¨ | FRONTEND-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/frontend-tutorial/favicon.ico">
    <meta name="description" content="å‰ç«¯æ•™ç¨‹">
    
    <link rel="preload" href="/frontend-tutorial/assets/css/0.styles.fb161648.css" as="style"><link rel="preload" href="/frontend-tutorial/assets/js/app.0f2f3ef1.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/4.0f425322.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/9.692fe702.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/5.608566ca.js" as="script"><link rel="prefetch" href="/frontend-tutorial/assets/js/10.1aadac9e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/11.62869f33.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/12.00af68a1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/13.fad1990f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/14.7a436432.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/15.1ed64873.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/16.e4fab6e4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/17.c425f0c7.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/18.b19b4a8c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/19.cf3ece76.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/20.e9494703.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/21.8e701cc6.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/22.c82dafa0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/23.c9095c3c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/24.97fb2434.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/25.79d04eb4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/26.0560c9b3.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/27.ca75901a.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/28.a2617487.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/29.034030a1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/30.687c6413.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/31.023e8160.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/32.f0b2a53f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/33.928cca1f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/34.e7b4cfb6.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/35.b6a1c119.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/36.615a2e5c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/37.7c6f496d.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/38.92700ab1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/39.ca730fba.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/40.735cdb31.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/41.80a4b65e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/42.33625d08.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/43.de7d648b.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/44.7f081370.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/45.4a5d9c6b.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/46.ae465fd4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/47.fc08a8e0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/48.3fae0897.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/49.a705c18f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/50.d5ce8c52.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/51.fb7cf5ef.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/52.ccd8ffb2.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/53.c39cec94.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/54.44e52515.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/55.a1b302d0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/56.18324d52.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/57.4ab7da19.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/58.6666b050.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/59.9031b427.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/6.79caa705.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/60.584946dd.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/61.39e0a712.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/62.8f33fd7c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/63.b27ab9ac.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/64.b15cd74f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/65.a0cdcfa5.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/66.81e0a185.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/67.a06444ff.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/68.85e176ee.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/69.2e790a70.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/7.f420f9c7.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/70.cc01ed99.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/71.27be19ba.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/72.d4cdf44e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/73.210cfade.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/8.64ae920a.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/vendors~flowchart.d1e58b72.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/vendors~notification.ecb92178.js">
    <link rel="stylesheet" href="/frontend-tutorial/assets/css/0.styles.fb161648.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-tutorial/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="FRONTEND-TUTORIAL" class="logo"> <span class="site-name can-hide">FRONTEND-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/frontend-tutorial/base/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/nodejs.html" class="nav-link">
  Node.js å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/yarn.html" class="nav-link">
  yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥å…·" class="dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥å…·" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/axios.html" class="nav-link">
  Axios å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/prettier.html" class="nav-link">
  Prettier å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/lodash.html" class="nav-link">
  Lodash å…¥é—¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="mobile-dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuejs-basic.html" class="nav-link">
  Vue.js åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-basic.html" class="nav-link">
  Vue Router åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-advanced.html" class="nav-link">
  Vue Router è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-basic.html" class="nav-link">
  Vuex åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-advanced.html" class="nav-link">
  Vuex è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-loader.html" class="nav-link">
  Vue Loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-devtools.html" class="nav-link">
  Vue Devtools
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/frontend-tutorial/base/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/nodejs.html" class="nav-link">
  Node.js å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/yarn.html" class="nav-link">
  yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥å…·" class="dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥å…·" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/axios.html" class="nav-link">
  Axios å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/prettier.html" class="nav-link">
  Prettier å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/lodash.html" class="nav-link">
  Lodash å…¥é—¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="mobile-dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuejs-basic.html" class="nav-link">
  Vue.js åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-basic.html" class="nav-link">
  Vue Router åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-advanced.html" class="nav-link">
  Vue Router è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-basic.html" class="nav-link">
  Vuex åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-advanced.html" class="nav-link">
  Vuex è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-loader.html" class="nav-link">
  Vue Loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-devtools.html" class="nav-link">
  Vue Devtools
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Babel å¿«é€Ÿå…¥é—¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#ç®€ä»‹" class="sidebar-link">ç®€ä»‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-èƒ½åšä»€ä¹ˆ" class="sidebar-link">Babel èƒ½åšä»€ä¹ˆï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-ä¸èƒ½åšä»€ä¹ˆ" class="sidebar-link">Babel ä¸èƒ½åšä»€ä¹ˆï¼Ÿ</a></li></ul></li><li><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#å®‰è£…-babel" class="sidebar-link">å®‰è£… Babel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-cli" class="sidebar-link">babel-cli</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-node" class="sidebar-link">babel-node</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-register" class="sidebar-link">babel-register</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-core" class="sidebar-link">babel-core</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#ä¸-webpack-é›†æˆ" class="sidebar-link">ä¸ webpack é›†æˆ</a></li></ul></li><li><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#é…ç½®-babel" class="sidebar-link">é…ç½® Babel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babelrc" class="sidebar-link">.babelrc</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#åœ¨å…¶å®ƒå·¥å…·ä¸­é…ç½®" class="sidebar-link">åœ¨å…¶å®ƒå·¥å…·ä¸­é…ç½®</a></li></ul></li><li><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#æ‰§è¡Œ-babel-ç”Ÿæˆçš„ä»£ç " class="sidebar-link">æ‰§è¡Œ Babel ç”Ÿæˆçš„ä»£ç </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-polyfill" class="sidebar-link">babel-polyfill</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/es6/babel/babel-quickstart.html#babel-runtime" class="sidebar-link">babel-runtime</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="babel-å¿«é€Ÿå…¥é—¨"><a href="#babel-å¿«é€Ÿå…¥é—¨" class="header-anchor">#</a> Babel å¿«é€Ÿå…¥é—¨</h1> <p><img src="/frontend-tutorial/assets/img/babel_big.0df86aee.png" alt="babel"></p> <blockquote><p>â€‹âš ï¸ <strong>æ³¨æ„ï¼š</strong></p> <p>Babel å¯ä»¥ä¸å¾ˆå¤šæ„å»ºå·¥å…·ï¼ˆå¦‚ <code>Browserify</code>ã€<code>Grunt</code>ã€<code>Gulp</code> ç­‰ï¼‰è¿›è¡Œé›†æˆã€‚ç”±äºæœ¬æ•™ç¨‹é€‰æ‹© <code>Webpack</code> ï¼Œæ‰€ä»¥åªè®²è§£ä¸ <code>Webpack</code> çš„é›†æˆã€‚æƒ³äº†è§£å¦‚ä½•ä¸å…¶å®ƒå·¥å…·é›†æˆï¼Œè¯·å‚è€ƒï¼š<a href="https://babeljs.io/docs/setup/#installation" target="_blank" rel="noopener noreferrer"><strong>å®˜æ–¹æ–‡æ¡£ - installation</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h2> <blockquote><p><code>Babel</code> æ˜¯ä¸€ä¸ªé€šç”¨çš„å¤šç”¨é€” JavaScript ç¼–è¯‘å™¨ã€‚</p></blockquote> <h3 id="babel-èƒ½åšä»€ä¹ˆ"><a href="#babel-èƒ½åšä»€ä¹ˆ" class="header-anchor">#</a> Babel èƒ½åšä»€ä¹ˆï¼Ÿ</h3> <ul><li><p>Babel é€šè¿‡è¯­æ³•è½¬æ¢æ¥æ”¯æŒæœ€æ–°ç‰ˆæœ¬çš„ JavaScript ï¼ˆES6ï¼‰ï¼Œè€Œä¸ç”¨ç­‰å¾…æµè§ˆå™¨çš„æ”¯æŒã€‚</p></li> <li><p>Babel å¯ä»¥è½¬æ¢ React çš„ JSX è¯­æ³•å’Œåˆ é™¤ç±»å‹æ³¨é‡Šã€‚</p></li> <li><p>Babel æ˜¯ç”±æ’ä»¶æ„å»ºçš„ã€‚å› æ­¤ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è®¢åˆ¶ã€‚</p></li> <li><p>æ”¯æŒ source map ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥è½»æ¾è°ƒè¯•æ‚¨ç¼–è¯‘çš„ä»£ç ã€‚</p></li></ul> <h3 id="babel-ä¸èƒ½åšä»€ä¹ˆ"><a href="#babel-ä¸èƒ½åšä»€ä¹ˆ" class="header-anchor">#</a> Babel ä¸èƒ½åšä»€ä¹ˆï¼Ÿ</h3> <ul><li>Babel åªè½¬æ¢è¯­æ³•ï¼ˆå¦‚ç®­å¤´å‡½æ•°ï¼‰ï¼Œä¸æ”¯æŒæ–°çš„å…¨å±€å˜é‡ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <a href="http://babeljs.io/docs/usage/polyfill/" target="_blank" rel="noopener noreferrer"><code>babel-polyfill</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ¥è¾…åŠ©æ”¯æŒã€‚</li></ul> <h2 id="å®‰è£…-babel"><a href="#å®‰è£…-babel" class="header-anchor">#</a> å®‰è£… Babel</h2> <h3 id="babel-cli"><a href="#babel-cli" class="header-anchor">#</a> <code>babel-cli</code></h3> <p><code>babel-cli</code> æ˜¯ Babel çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p> <p><strong>å®‰è£…</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># æœ¬åœ°å®‰è£…</span>
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-cli
<span class="token comment"># å…¨å±€å®‰è£…</span>
$ <span class="token function">npm</span> <span class="token function">install</span> --global babel-cli
</code></pre></div><p><strong>ç”¨æ³•</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># å°†ç¼–è¯‘åçš„ç»“æœç›´æ¥è¾“å‡ºè‡³ç»ˆç«¯</span>
$ babel example.js

<span class="token comment"># å°†ç»“æœå†™å…¥åˆ°æŒ‡å®šçš„æ–‡ä»¶</span>
$ babel example.js --out-file compiled.js
$ babel example.js -o compiled.js

<span class="token comment"># å°†ä¸€ä¸ªç›®å½•æ•´ä¸ªç¼–è¯‘æˆä¸€ä¸ªæ–°çš„ç›®å½•</span>
$ babel src --out-dir lib
$ babel src -d lib
</code></pre></div><h4 id="ä¸-package-json-é›†æˆ"><a href="#ä¸-package-json-é›†æˆ" class="header-anchor">#</a> ä¸ <code>package.json</code> é›†æˆ</h4> <blockquote><p>â€‹ğŸ“Œ <strong>æç¤ºï¼š</strong></p> <p>å»ºè®®ä½¿ç”¨æœ¬åœ°å®‰è£…æ–¹å¼å®‰è£… <code>babel-cli</code> ã€‚</p> <p>åŸå› åœ¨ä¸ï¼š</p> <ol><li>åœ¨åŒä¸€å°æœºå™¨ä¸Šçš„ä¸åŒé¡¹ç›®æˆ–è®¸ä¼šä¾èµ–ä¸åŒç‰ˆæœ¬çš„ Babel å¹¶å…è®¸ä½ æœ‰é€‰æ‹©çš„æ›´æ–°ã€‚</li> <li>è¿™æ„å‘³ç€ä½ å¯¹å·¥ä½œç¯å¢ƒæ²¡æœ‰éšå¼ä¾èµ–ï¼Œè¿™è®©ä½ çš„é¡¹ç›®æœ‰å¾ˆå¥½çš„å¯ç§»æ¤æ€§å¹¶ä¸”æ˜“äºå®‰è£…ã€‚</li></ol></blockquote> <p>æœ¬åœ°å®‰è£… <code>babel-cli</code> ï¼Œç›´æ¥ä½¿ç”¨ <code>babel</code> å‘½ä»¤å°†æ— æ³•è¯†åˆ«ã€‚ä½ å¯ä»¥é€‰åœ¨åœ¨ <code>package.json</code> æ–‡ä»¶çš„ <code>scripts</code> å±æ€§ä¸­å®šä¹‰å‘½ä»¤ã€‚<code>npm</code> ä¼šè‡ªåŠ¨æ‰¾åˆ°æœ¬åœ°å®‰è£…çš„åº“ã€‚</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel src -d lib&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;babel-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.0.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨å¯ä»¥åœ¨ç»ˆç«¯é‡Œæ‰§è¡Œå‘½ä»¤ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> run build
</code></pre></div><blockquote><p>â€‹ğŸ”¦ <strong>ç¤ºä¾‹ DEMO01ï¼š</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel/demo01" target="_blank" rel="noopener noreferrer"><strong>SOURCE</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p>è¯´æ˜ï¼š</p> <p>ç¤ºä¾‹çš„ä¸Šä¸€çº§ç›®å½• <a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel" target="_blank" rel="noopener noreferrer"><code>codes/chapter04/babel</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å·²ç»é…å¥½äº†é…ç½®æ–‡ä»¶ã€‚</p> <p>åœ¨ <code>codes/chapter04/babel</code> è·¯å¾„ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span>
$ <span class="token function">npm</span> run demo01
</code></pre></div><p>ä¼šç”Ÿæˆä¸€ä¸ª <code>dist/demo01</code> ç›®å½•ï¼Œå…¶ä¸­å°±æ˜¯è¢«è½¬ç åçš„æ–‡ä»¶ã€‚</p></blockquote> <h3 id="babel-node"><a href="#babel-node" class="header-anchor">#</a> <code>babel-node</code></h3> <p><code>babel-cli</code> å·¥å…·è‡ªå¸¦ä¸€ä¸ª <code>babel-node</code> å‘½ä»¤ï¼Œæä¾›ä¸€ä¸ªæ”¯æŒ ES6 çš„ REPL ç¯å¢ƒã€‚å®ƒæ”¯æŒ Node çš„ REPL ç¯å¢ƒçš„æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œä¸”å¯ä»¥ç›´æ¥è¿è¡Œ ES6 ä»£ç ã€‚</p> <p>å®ƒä¸ç”¨å•ç‹¬å®‰è£…ï¼Œè€Œæ˜¯éš <code>babel-cli</code> ä¸€èµ·å®‰è£…ã€‚ç„¶åï¼Œæ‰§è¡Œ <code>babel-node</code> å°±è¿›å…¥ PEPL ç¯å¢ƒã€‚</p> <p>ç„¶åç”¨ <code>babel-node</code> æ¥æ›¿ä»£ <code>node</code> è¿è¡Œæ‰€æœ‰çš„ä»£ç ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ babel-node
<span class="token operator">&gt;</span> <span class="token punctuation">(</span>x <span class="token operator">=</span><span class="token operator">&gt;</span> x * <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token number">2</span>
</code></pre></div><p><code>babel-node</code> å‘½ä»¤å¯ä»¥ç›´æ¥è¿è¡Œ ES6 è„šæœ¬:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ babel-node example.js
</code></pre></div><p>å¦‚æœç”¨ npm çš„è¯åªéœ€è¦è¿™æ ·åšï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;script-name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel-node script.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;babel-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.0.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶åï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> run babel-node
</code></pre></div><h3 id="babel-register"><a href="#babel-register" class="header-anchor">#</a> <code>babel-register</code></h3> <p>ä¸‹ä¸€ä¸ªå¸¸ç”¨çš„è¿è¡Œ Babel çš„æ–¹æ³•æ˜¯é€šè¿‡ <code>babel-register</code>ã€‚è¿™ç§æ–¹æ³•åªéœ€è¦å¼•å…¥æ–‡ä»¶å°±å¯ä»¥è¿è¡Œ Babelï¼Œæˆ–è®¸èƒ½æ›´å¥½åœ°èå…¥ä½ çš„é¡¹ç›®è®¾ç½®ã€‚</p> <blockquote><p>â€‹âš ï¸ <strong>æ³¨æ„ï¼š</strong></p> <p>è¿™ç§æ–¹æ³•å¹¶ä¸é€‚åˆæ­£å¼äº§å“ç¯å¢ƒä½¿ç”¨ã€‚ ç›´æ¥éƒ¨ç½²ç”¨æ­¤æ–¹å¼ç¼–è¯‘çš„ä»£ç ä¸æ˜¯å¥½çš„åšæ³•ã€‚ åœ¨éƒ¨ç½²ä¹‹å‰é¢„å…ˆç¼–è¯‘ä¼šæ›´å¥½ã€‚</p> <p>ä¸è¿‡ç”¨åœ¨æ„å»ºè„šæœ¬æˆ–æ˜¯å…¶ä»–æœ¬åœ°è¿è¡Œçš„è„šæœ¬ä¸­æ˜¯éå¸¸åˆé€‚çš„ã€‚</p></blockquote> <p><strong>å®‰è£…</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-register
</code></pre></div><p><strong>ä½¿ç”¨</strong></p> <ol><li>åˆ›å»º <code>index.js</code> æ–‡ä»¶ï¼š</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ˜¯ï¼Œä½¿ç”¨ <code>node index.js</code> æ¥è¿è¡Œå®ƒæ˜¯ä¸ä¼šä½¿ç”¨ Babel æ¥ç¼–è¯‘çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½® <code>babel-register</code>ã€‚.</p> <ol start="2"><li>åˆ›å»º <code>register.js</code> æ–‡ä»¶ï¼š</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babel-register&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ ·åšå¯ä»¥æŠŠ Babel<em>æ³¨å†Œ</em>åˆ° Node çš„æ¨¡å—ç³»ç»Ÿä¸­å¹¶å¼€å§‹ç¼–è¯‘å…¶ä¸­ <code>require</code> çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p> <ol start="3"><li><p>æ‰§è¡Œå‘½ä»¤</p> <p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>register.js</code> æ¥ä»£æ›¿ <code>node index.js</code> æ¥è¿è¡Œäº†ã€‚</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ node register.js
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä½ ä¸èƒ½åœ¨ä½ è¦ç¼–è¯‘çš„æ–‡ä»¶å†…åŒæ—¶æ³¨å†Œ Babelï¼Œå› ä¸º node ä¼šåœ¨ Babel ç¼–è¯‘å®ƒä¹‹å‰å°±å°†å®ƒæ‰§è¡Œäº†ã€‚</p> <blockquote><p>â€‹ğŸ”¦ <strong>ç¤ºä¾‹ DEMO02ï¼š</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel/demo02" target="_blank" rel="noopener noreferrer"><strong>SOURCE</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p>è¯´æ˜ï¼š</p> <p>ç¤ºä¾‹çš„ä¸Šä¸€çº§ç›®å½• <a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel" target="_blank" rel="noopener noreferrer"><code>codes/chapter04/babel</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å·²ç»é…å¥½äº†é…ç½®æ–‡ä»¶ã€‚</p> <p>åœ¨ <code>codes/chapter04/babel</code> è·¯å¾„ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span>
$ <span class="token function">npm</span> run demo02
</code></pre></div><p>æ§åˆ¶å°ä¼šæ‰“å°å¦‚ä¸‹å†…å®¹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; node demo02/register.js

Hello world!
</code></pre></div></blockquote> <h3 id="babel-core"><a href="#babel-core" class="header-anchor">#</a> <code>babel-core</code></h3> <p>å¦‚æœä½ éœ€è¦ä»¥ç¼–ç¨‹çš„æ–¹å¼æ¥ä½¿ç”¨ Babelï¼Œå¯ä»¥ä½¿ç”¨ <code>babel-core</code> è¿™ä¸ªåŒ…ã€‚</p> <p><strong>å®‰è£…</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> babel-core
</code></pre></div><p><strong>ä½¿ç”¨</strong></p> <p>åœ¨ä»£ç ä¸­å¼•å…¥ <code>babel-core</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>ç¼–è¯‘ API</strong></p> <div class="language-js extra-class"><pre class="language-js"><code># å¦‚æœæ˜¯å­—ç¬¦ä¸²å½¢å¼çš„ JavaScript ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨transformç¼–è¯‘
babel<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token string">&quot;code();&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; { code, map, ast }</span>

# å¦‚æœæ˜¯æ–‡ä»¶çš„è¯ï¼Œå¼‚æ­¥ç¼–è¯‘ä½¿ç”¨ transformFile
babel<span class="token punctuation">.</span><span class="token function">transformFile</span><span class="token punctuation">(</span><span class="token string">&quot;filename.js&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result<span class="token punctuation">;</span> <span class="token comment">// =&gt; { code, map, ast }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
# å¦‚æœæ˜¯æ–‡ä»¶çš„è¯ï¼ŒåŒæ­¥ç¼–è¯‘ä½¿ç”¨ transformFileSync
babel<span class="token punctuation">.</span><span class="token function">transformFileSync</span><span class="token punctuation">(</span><span class="token string">&quot;filename.js&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; { code, map, ast }</span>

# è¦æ˜¯å·²ç»æœ‰ä¸€ä¸ª Babel <span class="token constant">AST</span>ï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰äº†å°±å¯ä»¥ç›´æ¥ä» <span class="token constant">AST</span> è¿›è¡Œè½¬æ¢
babel<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> code<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; { code, map, ast }</span>
</code></pre></div><h3 id="ä¸-webpack-é›†æˆ"><a href="#ä¸-webpack-é›†æˆ" class="header-anchor">#</a> ä¸ webpack é›†æˆ</h3> <blockquote><p>â€‹ğŸ“Œ <strong>æç¤ºï¼š</strong></p> <p>æœ¬æ•™ç¨‹ç”±äºé€‰æ‹©çš„ç¼–è¯‘å·¥å…·ä¸º <code>webpack</code> ï¼Œæ‰€ä»¥è¿™é‡Œåªä»‹ç»ä¸ <code>webpack</code> çš„é›†æˆã€‚</p> <p>å®é™…ä¸Šï¼ŒBabel è¿˜å¯ä»¥ä¸å…¶å®ƒè®¸å¤šå·¥å…·é›†æˆï¼Œæ›´å¤šå†…å®¹å‚è€ƒï¼š<a href="https://babeljs.io/docs/setup/#installation" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£ - setup<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><strong>å®‰è£…</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-loader babel-core
</code></pre></div><p>**é…ç½® **</p> <p>åœ¨ Chapter03 çš„ <a href="https://github.com/dunwu/frontend-tutorial/tree/master/docs/chapter03/webpack/asset-management.md" target="_blank" rel="noopener noreferrer">Webpack èµ„æºç®¡ç†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸€æ–‡ä¸­ï¼Œä»‹ç»è¿‡ä½¿ç”¨ babel-loader æ¥å¤„ç† React è¯­æ³•ã€‚</p> <p>åœ¨ <strong>webpack.config.js</strong> é…ç½®å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å…³äºæ¨¡å—é…ç½®</span>
module<span class="token operator">:</span> <span class="token punctuation">{</span>

  <span class="token comment">// æ¨¡å—è§„åˆ™ï¼ˆé…ç½® loaderã€è§£æå™¨ç­‰é€‰é¡¹ï¼‰</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// è¯­ä¹‰è§£é‡Šå™¨ï¼Œå°† js/jsx æ–‡ä»¶ä¸­çš„ es2015/react è¯­æ³•è‡ªåŠ¨è½¬ä¸ºæµè§ˆå™¨å¯è¯†åˆ«çš„ Javascript è¯­æ³•</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      include<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      loader<span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><blockquote><p>â€‹ğŸ”¦ <strong>ç¤ºä¾‹</strong></p> <p><strong>chapter03-jigsawï¼š</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter03/jigsaw" target="_blank" rel="noopener noreferrer"><strong>SOURCE</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p><strong>chapter04-jigsawï¼š</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/jigsaw" target="_blank" rel="noopener noreferrer"><strong>SOURCE</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <p>è¯´æ˜ï¼š</p> <p><code>chapter04-jigsaw</code> å’Œ <code>chapter03-jigsaw</code> ç›¸æ¯”ï¼Œå¤šäº†ä¸€ä¸ª <code>.babelrc</code> æ–‡ä»¶ã€‚å®ƒå…¶å®æ˜¯å°† <code>chapter03-jigsaw</code> ä¸­çš„ <code>webpack.common.js</code> æ–‡ä»¶é‡Œçš„ babel-loader çš„é…ç½®ç§»å…¥äº† <code>.babelrc</code> æ–‡ä»¶ã€‚</p> <p>è¿™ä¸¤ä¸ªä»£ç ç›®å½•çš„æ‰§è¡Œç»“æœå®Œå…¨ç›¸åŒã€‚</p> <p>æ‰§è¡Œæ–¹æ³•ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span>
<span class="token comment"># å¼€å‘ç¯å¢ƒ - æœ¬åœ°å¯åŠ¨ä¸€ä¸ªè®¿é—®åœ°å€ä¸º localhost:9000 çš„ web app</span>
$ <span class="token function">npm</span> run dev
<span class="token comment"># å¼€å‘ç¯å¢ƒ - ç”Ÿæˆä¸€ä¸ª dist ç›®å½•ï¼Œå…¶ä¸­æ‰“åŒ…äº†æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ index.htmlï¼Œå¯ä»¥çœ‹åˆ°å’Œå¼€å‘ç¯å¢ƒå·®ä¸å¤šçš„å±•ç¤ºã€‚</span>
$ <span class="token function">npm</span> run prod
<span class="token comment"># æ¸…é™¤è¾“å‡ºç›®å½• dist</span>
$ <span class="token function">npm</span> run clean
</code></pre></div></blockquote> <h2 id="é…ç½®-babel"><a href="#é…ç½®-babel" class="header-anchor">#</a> é…ç½® Babel</h2> <blockquote><p>â€‹ğŸ“Œ æç¤ºï¼š</p> <p>ç”±äº <code>Babel</code> æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„é€šç”¨ç¼–è¯‘å™¨ï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å®ƒåè€Œä»€ä¹ˆéƒ½ä¸åšã€‚</p> <p>ä½ éœ€è¦é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œæ˜ç¡®åœ°å‘Šè¯‰ Babel åº”è¯¥è¦åšä»€ä¹ˆã€‚</p></blockquote> <h3 id="babelrc"><a href="#babelrc" class="header-anchor">#</a> <code>.babelrc</code></h3> <p><code>.babelrc</code> æ–‡ä»¶æ˜¯ <code>Babel</code> çš„é»˜è®¤é…ç½®æ–‡ä»¶ã€‚</p> <p><code>.babelrc</code><strong>æ–‡ä»¶çš„å†…å®¹å½¢å¼å°±æ˜¯åºåˆ—åŒ–çš„ JSONã€‚</strong></p> <p>è¯¥æ–‡ä»¶ç”¨æ¥è®¾ç½®è½¬ç è§„åˆ™ï¼ˆpresetsï¼‰å’Œæ’ä»¶ï¼ˆpluginsï¼‰ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="è½¬ç è§„åˆ™-preset"><a href="#è½¬ç è§„åˆ™-preset" class="header-anchor">#</a> è½¬ç è§„åˆ™(preset)</h4> <p>è½¬ç è§„åˆ™å¯ä»¥å‘Šè¯‰ Babel å»å¤„ç†ä»€ä¹ˆè¯­æ³•ã€‚</p> <p>å¸¸è§çš„è½¬ç è§„åˆ™æœ‰ï¼š</p> <ul><li><p><code>babel-preset-es2015</code></p> <p>è¿™æ˜¯ ES2015ï¼ˆæœ€æ–°ç‰ˆæœ¬çš„ JavaScript æ ‡å‡†ï¼Œä¹Ÿå«åš ES6ï¼‰çš„è½¬ç è§„åˆ™ã€‚ä½¿ç”¨å®ƒåï¼ŒBabel å¯ä»¥å°† ES6 è¯­æ³•è½¬ç ä¸ºæ™®é€š JavaScriptï¼ˆå³ ES5ï¼‰ è¯­æ³•ã€‚</p></li> <li><p><code>babel-preset-react</code></p> <p>è¿™æ˜¯ React çš„è½¬ç è§„åˆ™ã€‚ä½¿ç”¨å®ƒåï¼ŒBabel å¯ä»¥å°† React è¯­æ³•è½¬ç ä¸ºæ™®é€š JavaScript è¯­æ³•ã€‚</p></li> <li><p><code>babel-preset-stage-x</code></p> <p>è¿™æ˜¯ ES7 ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™ã€‚ä½¿ç”¨å®ƒåï¼ŒBabel å¯ä»¥å°† ES7 ä¸åŒé˜¶æ®µè¯­æ³•è½¬ç ä¸ºæ™®é€š JavaScript è¯­æ³•ã€‚</p> <blockquote><p>â€‹ğŸ“Œ æç¤ºï¼š</p> <p>JavaScript è¿˜æœ‰ä¸€äº›ææ¡ˆï¼Œæ­£åœ¨ç§¯æé€šè¿‡ TC39ï¼ˆECMAScript æ ‡å‡†èƒŒåçš„æŠ€æœ¯å§”å‘˜ä¼šï¼‰çš„æµç¨‹æˆä¸ºæ ‡å‡†çš„ä¸€éƒ¨åˆ†ã€‚</p> <p>è¿™ä¸ªæµç¨‹åˆ†ä¸º 5ï¼ˆ0ï¼4ï¼‰ä¸ªé˜¶æ®µã€‚ éšç€ææ¡ˆå¾—åˆ°è¶Šå¤šçš„å…³æ³¨å°±è¶Šæœ‰å¯èƒ½è¢«æ ‡å‡†é‡‡çº³ï¼Œäºæ˜¯ä»–ä»¬å°±ç»§ç»­é€šè¿‡å„ä¸ªé˜¶æ®µï¼Œæœ€ç»ˆåœ¨é˜¶æ®µ 4 è¢«æ ‡å‡†æ­£å¼é‡‡çº³ã€‚ä»¥ä¸‹æ˜¯ 4 ä¸ªä¸åŒé˜¶æ®µçš„ï¼ˆæ‰“åŒ…çš„ï¼‰é¢„è®¾ï¼š</p> <ul><li><code>babel-preset-stage-0</code></li> <li><code>babel-preset-stage-1</code></li> <li><code>babel-preset-stage-2</code></li> <li><code>babel-preset-stage-3</code></li></ul> <p>stage-4 é¢„è®¾æ˜¯ä¸å­˜åœ¨çš„å› ä¸ºå®ƒå°±æ˜¯ä¸Šé¢çš„ <code>es2015</code> é¢„è®¾ã€‚</p> <p>ä»¥ä¸Šæ¯ç§é¢„è®¾éƒ½ä¾èµ–äºç´§éšçš„åæœŸé˜¶æ®µé¢„è®¾ã€‚ä¾‹å¦‚ï¼Œ<code>babel-preset-stage-1</code> ä¾èµ– <code>babel-preset-stage-2</code>ï¼Œåè€…åˆä¾èµ–<code>babel-preset-stage-3</code>ã€‚</p></blockquote></li></ul> <p><strong>å®‰è£…</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># es2015ï¼ˆå³ES6ï¼‰è¯­æ³•è½¬ç è§„åˆ™</span>
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-preset-es2015

<span class="token comment"># react è¯­æ³•è½¬ç è§„åˆ™</span>
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-preset-react

<span class="token comment"># stage æ˜¯æŒ‡ ES7 ä¸åŒé˜¶æ®µçš„è¯­æ³•è½¬ç è§„åˆ™ï¼Œé€‰è£…ä¸€ä¸ªå³å¯</span>
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-preset-stage-0
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-preset-stage-1
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-preset-stage-2
$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-preset-stage-3
</code></pre></div><p><strong>ä½¿ç”¨</strong></p> <p>å®‰è£…å®Œåï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ <code>.babelrc</code> ä¸­å¼•å…¥é¡¹ç›®ä¸­å®é™…éœ€è¦çš„é¢„è®¾è½¬ç è§„åˆ™ï¼Œè®© Babel å¾—ä»¥çŸ¥é“è§„åˆ™ã€‚</p> <p>å½¢å¼å¦‚ä¸‹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;stage-0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="æ’ä»¶-plugins"><a href="#æ’ä»¶-plugins" class="header-anchor">#</a> æ’ä»¶(plugins)</h4> <p>æ’ä»¶æ˜¯ Babel çš„æ ¸å¿ƒã€‚</p> <p>Babel æ’ä»¶å¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼š</p> <ul><li><p>è½¬ç æ’ä»¶</p> <p>æœ‰å¾ˆå¤šç§æ’ä»¶ï¼šå°† ES6 / ES2015 è½¬æ¢ä¸º ES5ï¼Œè½¬æ¢ä¸º ES3ï¼Œminificationï¼ŒJSXï¼Œflowï¼Œå®éªŒåŠŸèƒ½ç­‰ç­‰ã€‚</p></li> <li><p>è¯­æ³•æ’ä»¶</p> <p>è¿™äº›åªæ˜¯ä½¿è½¬ç æ’ä»¶èƒ½å¤Ÿè§£ææŸäº›åŠŸèƒ½ï¼ˆè½¬ç æ’ä»¶å·²ç»åŒ…å«è¯­æ³•æ’ä»¶ï¼Œå› æ­¤è¿™ä¸¤ä¸ªåŠŸèƒ½ä½ éƒ½ä¸éœ€è¦ï¼‰ï¼š<code>babel-plugin-syntax-x</code></p></li> <li><p>åŠ©æ‰‹</p> <p>è¿™äº›ä¸»è¦ç”¨äºå„ç§æ’ä»¶å†…éƒ¨ä½¿ç”¨ï¼š<code>babel-helper-x</code>ã€‚</p></li></ul> <p>æ›´å¤šæ’ä»¶è¯·åœ¨ <a href="https://www.npmjs.com/search?q=babel-plugin" target="_blank" rel="noopener noreferrer">npm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æœç´¢ï¼ˆçœŸçš„å¥½å¤šï¼ï¼‰</p> <p>æ›´è¯¦ç»†ä»‹ç»è¯·å‚è€ƒï¼š<a href="http://babeljs.io/docs/plugins" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£ - æ’ä»¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="åœ¨å…¶å®ƒå·¥å…·ä¸­é…ç½®"><a href="#åœ¨å…¶å®ƒå·¥å…·ä¸­é…ç½®" class="header-anchor">#</a> åœ¨å…¶å®ƒå·¥å…·ä¸­é…ç½®</h3> <blockquote><p>â€‹ğŸ“Œâ€‹ <strong>æç¤ºï¼š</strong></p> <p>é™¤äº†åœ¨ <code>.babelrc</code> æ–‡ä»¶ä¸­å®šä¹‰ Babel é…ç½®ã€‚å®é™…ä¸Šï¼Œè¿˜å¯ä»¥åœ¨å…¶ä»–å·¥å…·ä¸­å¯¹å…¶è¿›è¡Œé…ç½®ã€‚</p></blockquote> <h4 id="åœ¨-package-json-ä¸­é…ç½®"><a href="#åœ¨-package-json-ä¸­é…ç½®" class="header-anchor">#</a> åœ¨ <code>package.json</code> ä¸­é…ç½®</h4> <p>å¯ä»¥åœ¨ <code>package.json</code> æ–‡ä»¶çš„ <code>babel</code> å±æ€§ä¸­é…ç½® Babel è§„åˆ™ã€‚</p> <p>é…ç½®æ–¹æ³•ä¸ <code>.babelrc</code> æ–‡ä»¶å®Œå…¨ç›¸åŒã€‚</p> <p>å½¢å¼å¦‚ä¸‹ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;babel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;es2015&quot;</span>
  <span class="token punctuation">]</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="åœ¨-webpack-config-js-ä¸­é…ç½®"><a href="#åœ¨-webpack-config-js-ä¸­é…ç½®" class="header-anchor">#</a> åœ¨ <code>webpack.config.js</code> ä¸­é…ç½®</h4> <p>å¯ä»¥åœ¨ <code>webpack.config.js</code> æ–‡ä»¶é…ç½® <code>babel-loader</code> æ—¶ï¼Œç›´æ¥åœ¨ <code>options</code> å±æ€§ä¸­é…ç½® Babel è§„åˆ™ã€‚</p> <p>å½¢å¼å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  include<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token string">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;react&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;syntax-dynamic-import&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// åŠ¨æ€å¯¼å…¥æ’ä»¶</span>
      <span class="token string">&quot;react-hot-loader/babel&quot;</span> <span class="token comment">// å¼€å¯ React ä»£ç çš„æ¨¡å—çƒ­æ›¿æ¢(HMR)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ‰§è¡Œ-babel-ç”Ÿæˆçš„ä»£ç "><a href="#æ‰§è¡Œ-babel-ç”Ÿæˆçš„ä»£ç " class="header-anchor">#</a> æ‰§è¡Œ Babel ç”Ÿæˆçš„ä»£ç </h2> <p>å³ä¾¿ä½ å·²ç»ç”¨ Babel ç¼–è¯‘äº†ä½ çš„ä»£ç ï¼Œä½†è¿™è¿˜ä¸ç®—å®Œã€‚</p> <h3 id="babel-polyfill"><a href="#babel-polyfill" class="header-anchor">#</a> <code>babel-polyfill</code></h3> <p>Babel å‡ ä¹å¯ä»¥ç¼–è¯‘æ‰€æœ‰æ–°æ½®çš„ JavaScript è¯­æ³•ï¼Œä½†å¯¹äº APIs æ¥è¯´å´å¹¶éå¦‚æ­¤ã€‚</p> <p>æ¯”æ–¹è¯´ï¼Œä¸‹åˆ—å«æœ‰ç®­å¤´å‡½æ•°çš„éœ€è¦ç¼–è¯‘çš„ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æœ€ç»ˆä¼šå˜æˆè¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶è€Œï¼Œå®ƒä¾ç„¶æ— æ³•éšå¤„å¯ç”¨ã€‚å› ä¸ºå¹¶éæ‰€æœ‰çš„ JavaScript ç¯å¢ƒéƒ½æ”¯æŒ <code>Array.from</code>ã€‚</p> <p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ç§å«åš <a href="https://remysharp.com/2010/10/08/what-is-a-polyfill" target="_blank" rel="noopener noreferrer">Polyfillï¼ˆä»£ç å¡«å……ï¼Œä¹Ÿå¯è¯‘ä½œå…¼å®¹æ€§è¡¥ä¸ï¼‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„æŠ€æœ¯ã€‚ ç®€å•åœ°è¯´ï¼Œpolyfill å³æ˜¯åœ¨å½“å‰è¿è¡Œç¯å¢ƒä¸­ç”¨æ¥å¤åˆ¶ï¼ˆæ„æŒ‡æ¨¡æ‹Ÿæ€§çš„å¤åˆ¶ï¼Œè€Œä¸æ˜¯æ‹·è´ï¼‰å°šä¸å­˜åœ¨çš„åŸç”Ÿ api çš„ä»£ç ã€‚ èƒ½è®©ä½ æå‰ä½¿ç”¨è¿˜ä¸å¯ç”¨çš„ APIsï¼Œ<code>Array.from</code> å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p> <p>Babel æä¾›äº† <code>babel-polyfill</code> æ¥æ”¯æŒ polyfill ã€‚</p> <p><strong>å®‰è£…</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save babel-polyfill
</code></pre></div><p><strong>ä½¿ç”¨</strong></p> <p>ç„¶åï¼Œåªéœ€è¦åœ¨æ–‡ä»¶é¡¶éƒ¨å¯¼å…¥ <code>babel-polyfill</code> å°±å¯ä»¥äº†ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">&quot;babel-polyfill&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="babel-runtime"><a href="#babel-runtime" class="header-anchor">#</a> <code>babel-runtime</code></h3> <p>babel-runtime ä¸ polyfill ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒä¸ä¿®æ”¹å…¨å±€èŒƒå›´ï¼Œå¹¶ä¸”ä¸ <code>babel-plugin-transform-runtime</code>ï¼ˆé€šå¸¸åœ¨åº“/æ’ä»¶ä»£ç ä¸­ï¼‰ä¸€èµ·ä½¿ç”¨ã€‚</p> <p>ä¸ºäº†å®ç° ECMAScript è§„èŒƒçš„ç»†èŠ‚ï¼ŒBabel ä¼šä½¿ç”¨â€œåŠ©æ‰‹â€æ–¹æ³•æ¥ä¿æŒç”Ÿæˆä»£ç çš„æ•´æ´ã€‚</p> <p>ç”±äºè¿™äº›åŠ©æ‰‹æ–¹æ³•å¯èƒ½ä¼šç‰¹åˆ«é•¿å¹¶ä¸”ä¼šè¢«æ·»åŠ åˆ°æ¯ä¸€ä¸ªæ–‡ä»¶çš„é¡¶éƒ¨ï¼Œå› æ­¤ä½ å¯ä»¥æŠŠå®ƒä»¬ç»Ÿä¸€ç§»åŠ¨åˆ°ä¸€ä¸ªå•ä¸€çš„â€œè¿è¡Œæ—¶ï¼ˆruntimeï¼‰â€ä¸­å»ã€‚</p> <p>é€šè¿‡å®‰è£… <code>babel-plugin-transform-runtime</code> å’Œ <code>babel-runtime</code> æ¥å¼€å§‹ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-plugin-transform-runtime
$ <span class="token function">npm</span> <span class="token function">install</span> --save babel-runtime
</code></pre></div><p>ç„¶åæ›´æ–° <code>.babelrc</code>ï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;stage-0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-runtime&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;transform-es2015-classes&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨ï¼ŒBabel ä¼šæŠŠè¿™æ ·çš„ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç¼–è¯‘æˆï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> _classCallCheck <span class="token keyword">from</span> <span class="token string">&quot;babel-runtime/helpers/classCallCheck&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> _createClass <span class="token keyword">from</span> <span class="token string">&quot;babel-runtime/helpers/createClass&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> Foo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">_createClass</span><span class="token punctuation">(</span>Foo<span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      key<span class="token operator">:</span> <span class="token string">&quot;method&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> Foo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ ·å°±ä¸éœ€è¦æŠŠ <code>_classCallCheck</code> å’Œ <code>_createClass</code> è¿™ä¸¤ä¸ªåŠ©æ‰‹æ–¹æ³•æ”¾è¿›æ¯ä¸€ä¸ªéœ€è¦çš„æ–‡ä»¶é‡Œå»äº†ã€‚</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/frontend-tutorial/edit/master/docs/es6/babel/babel-quickstart.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/frontend-tutorial/assets/js/app.0f2f3ef1.js" defer></script><script src="/frontend-tutorial/assets/js/4.0f425322.js" defer></script><script src="/frontend-tutorial/assets/js/9.692fe702.js" defer></script><script src="/frontend-tutorial/assets/js/5.608566ca.js" defer></script>
  </body>
</html>
