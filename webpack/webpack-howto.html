<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¦‚ä½•å­¦ä¹  Webpack | FRONTEND-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/frontend-tutorial/favicon.ico">
    <meta name="description" content="å‰ç«¯æ•™ç¨‹">
    
    <link rel="preload" href="/frontend-tutorial/assets/css/0.styles.fb161648.css" as="style"><link rel="preload" href="/frontend-tutorial/assets/js/app.0f2f3ef1.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/4.0f425322.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/71.27be19ba.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/5.608566ca.js" as="script"><link rel="prefetch" href="/frontend-tutorial/assets/js/10.1aadac9e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/11.62869f33.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/12.00af68a1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/13.fad1990f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/14.7a436432.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/15.1ed64873.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/16.e4fab6e4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/17.c425f0c7.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/18.b19b4a8c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/19.cf3ece76.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/20.e9494703.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/21.8e701cc6.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/22.c82dafa0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/23.c9095c3c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/24.97fb2434.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/25.79d04eb4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/26.0560c9b3.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/27.ca75901a.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/28.a2617487.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/29.034030a1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/30.687c6413.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/31.023e8160.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/32.f0b2a53f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/33.928cca1f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/34.e7b4cfb6.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/35.b6a1c119.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/36.615a2e5c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/37.7c6f496d.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/38.92700ab1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/39.ca730fba.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/40.735cdb31.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/41.80a4b65e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/42.33625d08.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/43.de7d648b.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/44.7f081370.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/45.4a5d9c6b.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/46.ae465fd4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/47.fc08a8e0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/48.3fae0897.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/49.a705c18f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/50.d5ce8c52.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/51.fb7cf5ef.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/52.ccd8ffb2.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/53.c39cec94.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/54.44e52515.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/55.a1b302d0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/56.18324d52.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/57.4ab7da19.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/58.6666b050.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/59.9031b427.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/6.79caa705.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/60.584946dd.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/61.39e0a712.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/62.8f33fd7c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/63.b27ab9ac.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/64.b15cd74f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/65.a0cdcfa5.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/66.81e0a185.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/67.a06444ff.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/68.85e176ee.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/69.2e790a70.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/7.f420f9c7.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/70.cc01ed99.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/72.d4cdf44e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/73.210cfade.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/8.64ae920a.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/9.692fe702.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/vendors~flowchart.d1e58b72.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/vendors~notification.ecb92178.js">
    <link rel="stylesheet" href="/frontend-tutorial/assets/css/0.styles.fb161648.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-tutorial/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="FRONTEND-TUTORIAL" class="logo"> <span class="site-name can-hide">FRONTEND-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/frontend-tutorial/base/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/nodejs.html" class="nav-link">
  Node.js å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/yarn.html" class="nav-link">
  yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥å…·" class="dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥å…·" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/axios.html" class="nav-link">
  Axios å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/prettier.html" class="nav-link">
  Prettier å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/lodash.html" class="nav-link">
  Lodash å…¥é—¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="mobile-dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuejs-basic.html" class="nav-link">
  Vue.js åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-basic.html" class="nav-link">
  Vue Router åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-advanced.html" class="nav-link">
  Vue Router è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-basic.html" class="nav-link">
  Vuex åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-advanced.html" class="nav-link">
  Vuex è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-loader.html" class="nav-link">
  Vue Loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-devtools.html" class="nav-link">
  Vue Devtools
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/frontend-tutorial/base/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/nodejs.html" class="nav-link">
  Node.js å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/yarn.html" class="nav-link">
  yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥å…·" class="dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥å…·" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/axios.html" class="nav-link">
  Axios å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/prettier.html" class="nav-link">
  Prettier å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/lodash.html" class="nav-link">
  Lodash å…¥é—¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="mobile-dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuejs-basic.html" class="nav-link">
  Vue.js åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-basic.html" class="nav-link">
  Vue Router åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-advanced.html" class="nav-link">
  Vue Router è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-basic.html" class="nav-link">
  Vuex åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-advanced.html" class="nav-link">
  Vuex è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-loader.html" class="nav-link">
  Vue Loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-devtools.html" class="nav-link">
  Vue Devtools
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å¦‚ä½•å­¦ä¹  Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-tutorial/webpack/webpack-howto.html#æœ¬æ•™ç¨‹çš„ç›®æ ‡" class="sidebar-link">æœ¬æ•™ç¨‹çš„ç›®æ ‡</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#å­¦ä¹ çš„å‰æ" class="sidebar-link">å­¦ä¹ çš„å‰æ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_1-ä¸ºä»€ä¹ˆé€‰æ‹©-webpack" class="sidebar-link">1. ä¸ºä»€ä¹ˆé€‰æ‹© webpack?</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_2-å¯¹äºä¹ æƒ¯browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨webpack" class="sidebar-link">2. å¯¹äºä¹ æƒ¯Browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨Webpack</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_3-å¦‚ä½•è°ƒç”¨webpack" class="sidebar-link">3. å¦‚ä½•è°ƒç”¨webpack</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_4-ç¼–è¯‘js" class="sidebar-link">4. ç¼–è¯‘js</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_5-cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½" class="sidebar-link">5. Cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_6-åŠŸèƒ½æ ‡è¯†-feature-flags" class="sidebar-link">6. åŠŸèƒ½æ ‡è¯†ï¼ˆFeature flagsï¼‰</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_7-å¤šä¸ªå…¥å£æ–‡ä»¶" class="sidebar-link">7. å¤šä¸ªå…¥å£æ–‡ä»¶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_8-ä¼˜åŒ–é€šç”¨ä»£ç " class="sidebar-link">8. ä¼˜åŒ–é€šç”¨ä»£ç </a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#_9-å¼‚æ­¥åŠ è½½" class="sidebar-link">9. å¼‚æ­¥åŠ è½½</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#å…¶ä»–" class="sidebar-link">å…¶ä»–</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/webpack/webpack-howto.html#faq" class="sidebar-link">FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/webpack/webpack-howto.html#webpack-ä¸ä»…ä»…æ˜¯ä¸ªmodular" class="sidebar-link">webpack ä¸ä»…ä»…æ˜¯ä¸ªmodular</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="å¦‚ä½•å­¦ä¹ -webpack"><a href="#å¦‚ä½•å­¦ä¹ -webpack" class="header-anchor">#</a> å¦‚ä½•å­¦ä¹  Webpack</h1> <blockquote><p>ğŸ“Œ <strong>æç¤ºï¼š</strong></p> <p>æœ¬æ–‡æ˜¯ <a href="https://github.com/petehunt/webpack-howto/blob/master/README-zh.md" target="_blank" rel="noopener noreferrer">webpack-howto<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„åŸæ–‡ï¼Œæˆ‘è§‰å¾—è¿™ç¯‡æ–‡ç« å†™å¾—éå¸¸å¥½ï¼Œç¡®å®ç®—æ˜¯ç›®å‰å­¦ä¹  webpack å…¥é—¨çš„å¿…è¯»æ–‡ç« ã€‚ç›´æ¥æ”¶å½•ä¹‹ã€‚</p></blockquote> <h2 id="æœ¬æ•™ç¨‹çš„ç›®æ ‡"><a href="#æœ¬æ•™ç¨‹çš„ç›®æ ‡" class="header-anchor">#</a> æœ¬æ•™ç¨‹çš„ç›®æ ‡</h2> <p>è¿™æ˜¯ä¸€æœ¬æ•™ä½ å¦‚ä½•åº”ç”¨webpackåˆ°ä½ çš„é¡¹ç›®ä¸­çš„å·¥å…·ä¹¦ã€‚å®ƒåŒ…å«äº†æˆ‘ä»¬åœ¨<code>Instagram</code>ä¸­ç”¨åˆ°çš„ç»å¤§å¤šæ•°çš„å†…å®¹ã€‚</p> <p>æˆ‘çš„å»ºè®®ï¼šè¿™ä¸ªæ•™ç¨‹ä½œä¸ºä½ ç¬¬ä¸€ä¸ª<code>webpack</code>çš„æ–‡æ¡£ï¼Œå­¦ä¹ å®Œä»¥åå»çœ‹å®ƒçš„å®˜æ–¹æ–‡æ¡£ï¼Œäº†è§£æ›´è¯¦ç»†çš„è¯´æ˜ã€‚</p> <h2 id="å­¦ä¹ çš„å‰æ"><a href="#å­¦ä¹ çš„å‰æ" class="header-anchor">#</a> å­¦ä¹ çš„å‰æ</h2> <ul><li>ä½ äº†è§£è¿‡ç±»ä¼¼<code>browserify</code>ã€<code>RequireJS</code>çš„ä¸œè¥¿</li> <li>ä½ çŸ¥é“:
<ul><li>Bundleçš„æ‹†åˆ†
<ul><li>å¼‚æ­¥çš„åŠ è½½</li> <li>æ‰“åŒ…imageså’Œcssçš„è¿™ä¸€ç±»çš„é™æ€èµ„æº</li></ul></li></ul></li></ul> <h2 id="_1-ä¸ºä»€ä¹ˆé€‰æ‹©-webpack"><a href="#_1-ä¸ºä»€ä¹ˆé€‰æ‹©-webpack" class="header-anchor">#</a> 1. ä¸ºä»€ä¹ˆé€‰æ‹© webpack?</h2> <ul><li><strong>å®ƒå’Œbrowserifyç±»ä¼¼</strong> ä½†æ˜¯å®ƒå¯ä»¥æŠŠä½ çš„åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ã€‚å¦‚æœä½ çš„å•é¡µåº”ç”¨é‡Œæœ‰å¾ˆå¤šé¡µé¢ï¼Œç”¨æˆ·åªä¼šä¸‹è½½å½“å‰è®¿é—®é¡µé¢çš„ä»£ç ã€‚å½“ä»–ä»¬è®¿é—®åº”ç”¨ä¸­çš„å…¶ä»–é¡µé¢æ—¶ï¼Œä¸å†éœ€è¦åŠ è½½ä¸ä¹‹å‰é¡µé¢é‡å¤çš„é€šç”¨ä»£ç ã€‚</li> <li><strong>å®ƒå¯ä»¥æ›¿ä»£gulpå’Œgrunt</strong> å› ä¸ºä»–å¯ä»¥æ„å»ºæ‰“åŒ…cssã€é¢„å¤„ç†cssã€ç¼–è¯‘jså’Œå›¾ç‰‡ç­‰ã€‚</li></ul> <p>å®ƒæ”¯æŒAMDå’ŒCommonJSï¼Œä»¥åŠå…¶ä»–çš„æ¨¡å—ç³»ç»Ÿ(Angular, ES6)ã€‚å¦‚æœä½ ä¸å¤ªç†Ÿæ‚‰å¦‚ä½•ä½¿ç”¨ï¼Œå°±ç”¨CommonJSå§ã€‚</p> <h2 id="_2-å¯¹äºä¹ æƒ¯browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨webpack"><a href="#_2-å¯¹äºä¹ æƒ¯browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨webpack" class="header-anchor">#</a> 2. å¯¹äºä¹ æƒ¯Browserifyçš„äººå¯ä»¥è¿™æ ·ä½¿ç”¨Webpack</h2> <p>ä¸‹é¢çš„å‘½ä»¤æ˜¯ç­‰ä»·çš„:</p> <div class="language-js extra-class"><pre class="language-js"><code>browserify main<span class="token punctuation">.</span>js <span class="token operator">&gt;</span> bundle<span class="token punctuation">.</span>js
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>webpack main<span class="token punctuation">.</span>js bundle<span class="token punctuation">.</span>js
</code></pre></div><p>ç„¶è€Œï¼Œwebpackè¦æ¯”Browserifyå¼ºå¤§ã€‚æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ä½ éœ€è¦å»ºç«‹ä¸€ä¸ª<code>webpack.config.js</code>æ–‡ä»¶æ¥é…ç½®webpackã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™å°±æ˜¯å•çº¯çš„JSï¼Œæ‰€æœ‰å†™è¿™ä¸ªé…ç½®æ–‡ä»¶æ¯«æ— å‹åŠ›ã€‚</p> <h2 id="_3-å¦‚ä½•è°ƒç”¨webpack"><a href="#_3-å¦‚ä½•è°ƒç”¨webpack" class="header-anchor">#</a> 3. å¦‚ä½•è°ƒç”¨webpack</h2> <p>é€‰æ‹©ä¸€ä¸ªç›®å½•ä¸‹æœ‰<code>webpack.config.js</code>æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œç„¶åè¿è¡Œä¸‹é¢çš„å‘½ä»¤:</p> <ul><li><code>webpack</code> å¼€å‘ç¯å¢ƒä¸‹ç¼–è¯‘</li> <li><code>webpack -p</code> äº§å“ç¼–è¯‘åŠå‹ç¼©
<ul><li><code>webpack --watch</code> å¼€å‘ç¯å¢ƒä¸‹æŒç»­çš„ç›‘å¬æ–‡ä»¶å˜åŠ¨æ¥è¿›è¡Œç¼–è¯‘(éå¸¸å¿«!)</li> <li><code>webpack -d</code> å¼•å…¥ source maps</li></ul></li></ul> <h2 id="_4-ç¼–è¯‘js"><a href="#_4-ç¼–è¯‘js" class="header-anchor">#</a> 4. ç¼–è¯‘js</h2> <p>webpackå¯ä»¥å’Œbrowserifyã€RequireJSä¸€æ ·ä½œä¸ºä¸€ä¸ª<strong>loader</strong>(åŠ è½½å·¥å…·)æ¥ä½¿ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨webpackå»åŠ è½½ã€ç¼–è¯‘CoffeeScriptå’ŒJSX+ES6ã€‚(è¿™é‡Œä½ å¿…é¡»å…ˆ <code>npm install babel-loader coffee-loader</code>):</p> <p>ä½ ä¹Ÿè¦çœ‹ä¸‹<a href="https://www.npmjs.com/package/babel-loader" target="_blank" rel="noopener noreferrer">babel-loaderçš„ä»‹ç»<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œå®ƒä¼šä½œä¸ºä¸€ä¸ªå¼€å‘ç¯å¢ƒä¸‹çš„ä¾èµ–åŠ è½½åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­(run <code>npm install babel-core babel-preset-es2015 babel-preset-react</code>)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./main.js'</span><span class="token punctuation">,</span> <span class="token comment">// å…¥å£æ–‡ä»¶</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span> <span class="token comment">// æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.coffee$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>  <span class="token comment">// test å»åˆ¤æ–­æ˜¯å¦ä¸º.coffeeçš„æ–‡ä»¶,æ˜¯çš„è¯å°±æ˜¯è¿›è¡Œcoffeeç¼–è¯‘</span>
        loader<span class="token operator">:</span> <span class="token string">'coffee-loader'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// test å»åˆ¤æ–­æ˜¯å¦ä¸º.js,æ˜¯çš„è¯å°±æ˜¯è¿›è¡Œes6å’Œjsxçš„ç¼–è¯‘</span>
        loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        query<span class="token operator">:</span> <span class="token punctuation">{</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">,</span> <span class="token string">'react'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¦‚æœä½ å¸Œæœ›åœ¨requireæ–‡ä»¶æ—¶çœç•¥æ–‡ä»¶çš„æ‰©å±•åï¼Œåªéœ€è¦åœ¨webpack.config.jsä¸­æ·»åŠ  <code>resolve.extensions</code> æ¥é…ç½®ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.coffee$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> loader<span class="token operator">:</span> <span class="token string">'coffee-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        query<span class="token operator">:</span> <span class="token punctuation">{</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">,</span> <span class="token string">'react'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç°åœ¨ä½ requireæ–‡ä»¶çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨require('file')ï¼Œä¸ç”¨ä½¿ç”¨require('file.coffee')</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">,</span> <span class="token string">'.coffee'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½"><a href="#_5-cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½" class="header-anchor">#</a> 5. Cssæ ·å¼å’Œå›¾ç‰‡çš„åŠ è½½</h2> <p>é¦–å…ˆä½ éœ€è¦ç”¨<code>require()</code>å»åŠ è½½ä½ çš„é™æ€èµ„æº(named as they would with node's <code>require()</code>):</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./bootstrap.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./myapp.less'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./glyph.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å½“ä½ requireäº†CSS(lessæˆ–è€…å…¶ä»–)æ–‡ä»¶ï¼Œwebpackä¼šåœ¨é¡µé¢ä¸­æ’å…¥ä¸€ä¸ªå†…è”çš„<code>&lt;style&gt;</code>ï¼Œå»å¼•å…¥æ ·å¼ã€‚å½“requireå›¾ç‰‡çš„æ—¶å€™ï¼Œbundleæ–‡ä»¶ä¼šåŒ…å«å›¾ç‰‡çš„urlï¼Œå¹¶é€šè¿‡<code>require()</code>è¿”å›å›¾ç‰‡çš„urlã€‚</p> <p>ä½†æ˜¯è¿™éœ€è¦ä½ åœ¨<code>webpack.config.js</code>åšç›¸åº”çš„é…ç½®(è¿™é‡Œè¿˜æ˜¯ä½¿ç”¨loaders)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'./build'</span><span class="token punctuation">,</span> <span class="token comment">// å›¾ç‰‡å’Œjsä¼šæ”¾åœ¨è¿™</span>
    publicPath<span class="token operator">:</span> <span class="token string">'http://mycdn.com/'</span><span class="token punctuation">,</span> <span class="token comment">// è¿™é‡Œç”¨æ¥ç”Ÿæˆå›¾ç‰‡çš„åœ°å€</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> loader<span class="token operator">:</span> <span class="token string">'style-loader!css-loader!less-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨!å»é“¾å¼è°ƒç”¨loader</span>
      <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> loader<span class="token operator">:</span> <span class="token string">'style-loader!css-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> loader<span class="token operator">:</span> <span class="token string">'url-loader?limit=8192'</span><span class="token punctuation">}</span> <span class="token comment">// å†…è”çš„base64çš„å›¾ç‰‡åœ°å€ï¼Œå›¾ç‰‡è¦å°äº8kï¼Œç›´æ¥çš„urlçš„åœ°å€åˆ™ä¸è§£æ</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_6-åŠŸèƒ½æ ‡è¯†-feature-flags"><a href="#_6-åŠŸèƒ½æ ‡è¯†-feature-flags" class="header-anchor">#</a> 6. åŠŸèƒ½æ ‡è¯†ï¼ˆFeature flagsï¼‰</h2> <p>é¡¹ç›®ä¸­æœ‰äº›ä»£ç æˆ‘ä»¬åªä¸ºåœ¨å¼€å‘ç¯å¢ƒï¼ˆä¾‹å¦‚æ—¥å¿—ï¼‰æˆ–è€…æ˜¯å†…éƒ¨æµ‹è¯•ç¯å¢ƒï¼ˆä¾‹å¦‚é‚£äº›æ²¡æœ‰å‘å¸ƒçš„æ–°åŠŸèƒ½ï¼‰ä¸­ä½¿ç”¨ï¼Œé‚£å°±éœ€è¦å¼•å…¥ä¸‹é¢è¿™äº›é­”æ³•å…¨å±€å˜é‡ï¼ˆmagic globalsï¼‰ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>__DEV__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'Extra logging'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>__PRERELEASE__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">showSecretFeature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åŒæ—¶è¿˜è¦åœ¨webpack.config.jsä¸­é…ç½®è¿™äº›å˜é‡ï¼Œä½¿å¾—webpackèƒ½å¤Ÿè¯†åˆ«ä»–ä»¬ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>

<span class="token comment">// definePlugin ä¼šæŠŠå®šä¹‰çš„string å˜é‡æ’å…¥åˆ°Jsä»£ç ä¸­ã€‚</span>
<span class="token keyword">var</span> definePlugin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  __DEV__<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BUILD_DEV</span> <span class="token operator">||</span> <span class="token string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  __PRERELEASE__<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BUILD_PRERELEASE</span> <span class="token operator">||</span> <span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>definePlugin<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>BUILD_DEV=1 BUILD_PRERELEASE=1 webpack</code>æ¥æ‰“åŒ…ä»£ç äº†ã€‚
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>webpack -p</code> ä¼šåˆ é™¤æ‰€æœ‰æ— ä½œç”¨ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´é‚£äº›åŒ…è£¹åœ¨è¿™äº›å…¨å±€å˜é‡ä¸‹çš„ä»£ç å—éƒ½ä¼šè¢«åˆ é™¤ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è¿™äº›ä»£ç ä¸ä¼šå› å‘å¸ƒä¸Šçº¿è€Œæ³„éœ²ã€‚</p> <h2 id="_7-å¤šä¸ªå…¥å£æ–‡ä»¶"><a href="#_7-å¤šä¸ªå…¥å£æ–‡ä»¶" class="header-anchor">#</a> 7. å¤šä¸ªå…¥å£æ–‡ä»¶</h2> <p>å¦‚æœä½ æœ‰ä¸¤ä¸ªé¡µé¢ï¼šprofileå’Œfeedã€‚å¦‚æœä½ å¸Œæœ›ç”¨æˆ·è®¿é—®profileé¡µé¢æ—¶ä¸åŠ è½½feedé¡µé¢çš„ä»£ç ï¼Œé‚£å°±éœ€è¦ç”Ÿæˆå¤šä¸ªbundlesæ–‡ä»¶ï¼šä¸ºæ¯ä¸ªé¡µé¢åˆ›å»ºè‡ªå·±çš„â€œmain moduleâ€ï¼ˆå…¥å£æ–‡ä»¶ï¼‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    Profile<span class="token operator">:</span> <span class="token string">'./profile.js'</span><span class="token punctuation">,</span>
    Feed<span class="token operator">:</span> <span class="token string">'./feed.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].js'</span> <span class="token comment">// nameæ˜¯åŸºäºä¸Šè¾¹entryä¸­å®šä¹‰çš„key</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨profileé¡µé¢ä¸­æ’å…¥<code>&lt;script src=&quot;build/Profile.js&quot;&gt;&lt;/script&gt;</code>ã€‚feedä¹Ÿä¸€æ ·ã€‚</p> <h2 id="_8-ä¼˜åŒ–é€šç”¨ä»£ç "><a href="#_8-ä¼˜åŒ–é€šç”¨ä»£ç " class="header-anchor">#</a> 8. ä¼˜åŒ–é€šç”¨ä»£ç </h2> <p>Feedå’ŒProfileé¡µé¢å­˜åœ¨å¤§é‡é€šç”¨ä»£ç (æ¯”å¦‚Reactã€å…¬å…±çš„æ ·å¼å’Œç»„ä»¶ç­‰ç­‰)ã€‚webpackå¯ä»¥æŠ½ç¦»é¡µé¢é—´å…¬å…±çš„ä»£ç ï¼Œç”Ÿæˆä¸€ä¸ªå…¬å…±çš„bundleæ–‡ä»¶ï¼Œä¾›è¿™ä¸¤ä¸ªé¡µé¢ç¼“å­˜ä½¿ç”¨:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>

<span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> commonsPlugin <span class="token operator">=</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token string">'common.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼•å…¥æ’ä»¶</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    Profile<span class="token operator">:</span> <span class="token string">'./profile.js'</span><span class="token punctuation">,</span>
    Feed<span class="token operator">:</span> <span class="token string">'./feed.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].js'</span> <span class="token comment">// ä¸ºä¸Šé¢entryçš„keyå€¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>commonsPlugin<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¸Šä¸€æ­¥å¼•å…¥è‡ªå·±çš„bundleä¹‹å‰å¼•å…¥<code>&lt;script src=&quot;build/common.js&quot;&gt;&lt;/script&gt;</code></p> <h2 id="_9-å¼‚æ­¥åŠ è½½"><a href="#_9-å¼‚æ­¥åŠ è½½" class="header-anchor">#</a> 9. å¼‚æ­¥åŠ è½½</h2> <p>è™½ç„¶CommonJSæ˜¯åŒæ­¥åŠ è½½çš„ï¼Œä½†æ˜¯webpackä¹Ÿæä¾›äº†å¼‚æ­¥åŠ è½½çš„æ–¹å¼ã€‚è¿™å¯¹äºå•é¡µåº”ç”¨ä¸­ä½¿ç”¨çš„å®¢æˆ·ç«¯è·¯ç”±éå¸¸æœ‰ç”¨ã€‚å½“çœŸæ­£è·¯ç”±åˆ°äº†æŸä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå®ƒçš„ä»£ç æ‰ä¼šè¢«åŠ è½½ä¸‹æ¥ã€‚</p> <p>æŒ‡å®šä½ è¦å¼‚æ­¥åŠ è½½çš„ <strong>æ‹†åˆ†ç‚¹</strong>ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">===</span> <span class="token string">'/feed'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">showLoadingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// è¿™ä¸ªè¯­æ³•ç—•å¥‡æ€ªï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥èµ·ä½œç”¨çš„</span>
    <span class="token function">hideLoadingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./feed'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å½“è¿™ä¸ªå‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œæ­¤æ¨¡å—æ˜¯ä¸€å®šå·²ç»è¢«åŒæ­¥åŠ è½½ä¸‹æ¥äº†</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">===</span> <span class="token string">'/profile'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">showLoadingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">hideLoadingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./profile'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å‰©ä¸‹çš„äº‹å°±å¯ä»¥äº¤ç»™webpackï¼Œå®ƒä¼šä¸ºä½ ç”Ÿæˆå¹¶åŠ è½½è¿™äº›é¢å¤–çš„ <strong>chunk</strong> æ–‡ä»¶ã€‚</p> <p>webpack é»˜è®¤ä¼šä»é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å¼•å…¥è¿™äº›chunkæ–‡ä»¶ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ <code>output.publicPath</code>æ¥é…ç½®chunkæ–‡ä»¶çš„å¼•å…¥è·¯å¾„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/home/proj/public/assets&quot;</span><span class="token punctuation">,</span> <span class="token comment">// webpackçš„buildè·¯å¾„</span>
    publicPath<span class="token operator">:</span> <span class="token string">&quot;/assets/&quot;</span> <span class="token comment">// ä½ requireçš„è·¯å¾„</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="header-anchor">#</a> å…¶ä»–</h2> <p>çœ‹ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œ<a href="http://youtu.be/VkTCL6Nqm6Y" target="_blank" rel="noopener noreferrer">çœ‹çœ‹ä»–ä»¬æ˜¯æ€ä¹ˆä½¿ç”¨webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚è¿™æ˜¯Pete Huntåœ¨Instagram.comä¸­è°ˆè®ºwebpackçš„è§†é¢‘ã€‚</p> <h2 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h2> <h3 id="webpack-ä¸ä»…ä»…æ˜¯ä¸ªmodular"><a href="#webpack-ä¸ä»…ä»…æ˜¯ä¸ªmodular" class="header-anchor">#</a> webpack ä¸ä»…ä»…æ˜¯ä¸ªmodular</h3> <p>ç›¸æ¯”è¾ƒbrowserifyå’Œbrowserifyï¼Œåœ¨ä½ çš„é¡¹ç›®ä¸­å¤§é‡çš„ä½¿ç”¨webpackæ’ä»¶æ‰èƒ½ä½“ç°å‡ºwebpackçš„ä¼˜åŠ¿ã€‚å½“ä½¿ç”¨äº†æ’ä»¶åï¼Œä»£ç æ‰ä¼šè¢«å¤å†™ã€‚å…¶ä½™çš„éƒ½æ˜¯é»˜è®¤åŠ è½½ã€‚</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/frontend-tutorial/edit/master/docs/webpack/webpack-howto.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/frontend-tutorial/assets/js/app.0f2f3ef1.js" defer></script><script src="/frontend-tutorial/assets/js/4.0f425322.js" defer></script><script src="/frontend-tutorial/assets/js/71.27be19ba.js" defer></script><script src="/frontend-tutorial/assets/js/5.608566ca.js" defer></script>
  </body>
</html>
