<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue Loader | FRONTEND-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/frontend-tutorial/favicon.ico">
    <meta name="description" content="å‰ç«¯æ•™ç¨‹">
    
    <link rel="preload" href="/frontend-tutorial/assets/css/0.styles.fb161648.css" as="style"><link rel="preload" href="/frontend-tutorial/assets/js/app.0f2f3ef1.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/4.0f425322.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/59.9031b427.js" as="script"><link rel="preload" href="/frontend-tutorial/assets/js/5.608566ca.js" as="script"><link rel="prefetch" href="/frontend-tutorial/assets/js/10.1aadac9e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/11.62869f33.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/12.00af68a1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/13.fad1990f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/14.7a436432.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/15.1ed64873.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/16.e4fab6e4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/17.c425f0c7.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/18.b19b4a8c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/19.cf3ece76.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/20.e9494703.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/21.8e701cc6.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/22.c82dafa0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/23.c9095c3c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/24.97fb2434.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/25.79d04eb4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/26.0560c9b3.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/27.ca75901a.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/28.a2617487.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/29.034030a1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/30.687c6413.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/31.023e8160.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/32.f0b2a53f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/33.928cca1f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/34.e7b4cfb6.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/35.b6a1c119.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/36.615a2e5c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/37.7c6f496d.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/38.92700ab1.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/39.ca730fba.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/40.735cdb31.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/41.80a4b65e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/42.33625d08.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/43.de7d648b.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/44.7f081370.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/45.4a5d9c6b.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/46.ae465fd4.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/47.fc08a8e0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/48.3fae0897.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/49.a705c18f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/50.d5ce8c52.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/51.fb7cf5ef.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/52.ccd8ffb2.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/53.c39cec94.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/54.44e52515.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/55.a1b302d0.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/56.18324d52.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/57.4ab7da19.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/58.6666b050.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/6.79caa705.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/60.584946dd.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/61.39e0a712.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/62.8f33fd7c.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/63.b27ab9ac.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/64.b15cd74f.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/65.a0cdcfa5.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/66.81e0a185.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/67.a06444ff.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/68.85e176ee.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/69.2e790a70.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/7.f420f9c7.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/70.cc01ed99.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/71.27be19ba.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/72.d4cdf44e.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/73.210cfade.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/8.64ae920a.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/9.692fe702.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/vendors~flowchart.d1e58b72.js"><link rel="prefetch" href="/frontend-tutorial/assets/js/vendors~notification.ecb92178.js">
    <link rel="stylesheet" href="/frontend-tutorial/assets/css/0.styles.fb161648.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-tutorial/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="FRONTEND-TUTORIAL" class="logo"> <span class="site-name can-hide">FRONTEND-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/frontend-tutorial/base/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/nodejs.html" class="nav-link">
  Node.js å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/yarn.html" class="nav-link">
  yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥å…·" class="dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥å…·" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/axios.html" class="nav-link">
  Axios å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/prettier.html" class="nav-link">
  Prettier å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/lodash.html" class="nav-link">
  Lodash å…¥é—¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="mobile-dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuejs-basic.html" class="nav-link">
  Vue.js åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-basic.html" class="nav-link">
  Vue Router åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-advanced.html" class="nav-link">
  Vue Router è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-basic.html" class="nav-link">
  Vuex åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-advanced.html" class="nav-link">
  Vuex è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-loader.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue Loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-devtools.html" class="nav-link">
  Vue Devtools
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/frontend-tutorial/base/" class="nav-link">
  åŸºç¡€
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Nodejs" class="dropdown-title"><span class="title">Nodejs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Nodejs" class="mobile-dropdown-title"><span class="title">Nodejs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/nodejs.html" class="nav-link">
  Node.js å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/npm.html" class="nav-link">
  npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/nodejs/yarn.html" class="nav-link">
  yarn
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯å·¥å…·" class="dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯å·¥å…·" class="mobile-dropdown-title"><span class="title">å‰ç«¯å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/axios.html" class="nav-link">
  Axios å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/prettier.html" class="nav-link">
  Prettier å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/tool/lodash.html" class="nav-link">
  Lodash å…¥é—¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue æŠ€æœ¯ç”Ÿæ€" class="mobile-dropdown-title"><span class="title">Vue æŠ€æœ¯ç”Ÿæ€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuejs-basic.html" class="nav-link">
  Vue.js åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-basic.html" class="nav-link">
  Vue Router åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-router-advanced.html" class="nav-link">
  Vue Router è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-basic.html" class="nav-link">
  Vuex åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vuex-advanced.html" class="nav-link">
  Vuex è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-loader.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue Loader
</a></li><li class="dropdown-item"><!----> <a href="/frontend-tutorial/vue/vue-devtools.html" class="nav-link">
  Vue Devtools
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue Loader</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-tutorial/vue/vue-loader.html#_1-ç®€ä»‹" class="sidebar-link">1. ç®€ä»‹</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_2-èµ·æ­¥" class="sidebar-link">2. èµ·æ­¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_2-1-vue-cli" class="sidebar-link">2.1. Vue CLI</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_2-2-æ‰‹åŠ¨è®¾ç½®" class="sidebar-link">2.2. æ‰‹åŠ¨è®¾ç½®</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_3-å¤„ç†èµ„æºè·¯å¾„" class="sidebar-link">3. å¤„ç†èµ„æºè·¯å¾„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_3-1-è½¬æ¢è§„åˆ™" class="sidebar-link">3.1. è½¬æ¢è§„åˆ™</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_3-2-ç›¸å…³çš„-loader" class="sidebar-link">3.2. ç›¸å…³çš„ Loader</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_3-3-ä¸ºä»€ä¹ˆ" class="sidebar-link">3.3. ä¸ºä»€ä¹ˆ</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_4-ä½¿ç”¨é¢„å¤„ç†å™¨" class="sidebar-link">4. ä½¿ç”¨é¢„å¤„ç†å™¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-1-sass" class="sidebar-link">4.1. Sass</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-2-less" class="sidebar-link">4.2. Less</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-3-stylus" class="sidebar-link">4.3. Stylus</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-4-postcss" class="sidebar-link">4.4. PostCSS</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-5-babel" class="sidebar-link">4.5. Babel</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-6-typescript" class="sidebar-link">4.6. TypeScript</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_4-7-pug" class="sidebar-link">4.7. Pug</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_5-scoped-css" class="sidebar-link">5. Scoped CSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_5-1-æ··ç”¨æœ¬åœ°å’Œå…¨å±€æ ·å¼" class="sidebar-link">5.1. æ··ç”¨æœ¬åœ°å’Œå…¨å±€æ ·å¼</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_5-2-å­ç»„ä»¶çš„æ ¹å…ƒç´ " class="sidebar-link">5.2. å­ç»„ä»¶çš„æ ¹å…ƒç´ </a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_5-3-æ·±åº¦ä½œç”¨é€‰æ‹©å™¨" class="sidebar-link">5.3. æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_5-4-åŠ¨æ€ç”Ÿæˆçš„å†…å®¹" class="sidebar-link">5.4. åŠ¨æ€ç”Ÿæˆçš„å†…å®¹</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_5-5-è¿˜æœ‰ä¸€äº›è¦ç•™æ„" class="sidebar-link">5.5. è¿˜æœ‰ä¸€äº›è¦ç•™æ„</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_6-css-modules" class="sidebar-link">6. CSS Modules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_6-1-ç”¨æ³•" class="sidebar-link">6.1. ç”¨æ³•</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_6-2-å¯é€‰ç”¨æ³•" class="sidebar-link">6.2. å¯é€‰ç”¨æ³•</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_6-3-å’Œé¢„å¤„ç†å™¨é…åˆä½¿ç”¨" class="sidebar-link">6.3. å’Œé¢„å¤„ç†å™¨é…åˆä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_6-4-è‡ªå®šä¹‰çš„æ³¨å…¥åç§°" class="sidebar-link">6.4. è‡ªå®šä¹‰çš„æ³¨å…¥åç§°</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_7-çƒ­é‡è½½" class="sidebar-link">7. çƒ­é‡è½½</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_7-1-çŠ¶æ€ä¿ç•™è§„åˆ™" class="sidebar-link">7.1. çŠ¶æ€ä¿ç•™è§„åˆ™</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_7-2-ç”¨æ³•" class="sidebar-link">7.2. ç”¨æ³•</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_7-3-å…³é—­çƒ­é‡è½½" class="sidebar-link">7.3. å…³é—­çƒ­é‡è½½</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_8-å‡½æ•°å¼ç»„ä»¶" class="sidebar-link">8. å‡½æ•°å¼ç»„ä»¶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_9-è‡ªå®šä¹‰å—" class="sidebar-link">9. è‡ªå®šä¹‰å—</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_9-1-example" class="sidebar-link">9.1. Example</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_10-css-æå–" class="sidebar-link">10. CSS æå–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_10-1-webpack-4" class="sidebar-link">10.1. webpack 4</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_10-2-webpack-3" class="sidebar-link">10.2. webpack 3</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_11-ä»£ç æ ¡éªŒ" class="sidebar-link">11. ä»£ç æ ¡éªŒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_11-1-eslint" class="sidebar-link">11.1. ESLint</a></li><li class="sidebar-sub-header"><a href="/frontend-tutorial/vue/vue-loader.html#_11-2-stylelint" class="sidebar-link">11.2. stylelint</a></li></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_12-æµ‹è¯•" class="sidebar-link">12. æµ‹è¯•</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/frontend-tutorial/vue/vue-loader.html#_13-å‚è€ƒèµ„æ–™" class="sidebar-link">13. å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-loader"><a href="#vue-loader" class="header-anchor">#</a> Vue Loader</h1> <ul><li><a href="#1-%E7%AE%80%E4%BB%8B">1. ç®€ä»‹</a></li> <li><a href="#2-%E8%B5%B7%E6%AD%A5">2. èµ·æ­¥</a> <ul><li><a href="#21-vue-cli">2.1. Vue CLI</a></li> <li><a href="#22-%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE">2.2. æ‰‹åŠ¨è®¾ç½®</a></li></ul></li> <li><a href="#3-%E5%A4%84%E7%90%86%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84">3. å¤„ç†èµ„æºè·¯å¾„</a> <ul><li><a href="#31-%E8%BD%AC%E6%8D%A2%E8%A7%84%E5%88%99">3.1. è½¬æ¢è§„åˆ™</a></li> <li><a href="#32-%E7%9B%B8%E5%85%B3%E7%9A%84-loader">3.2. ç›¸å…³çš„ Loader</a></li> <li><a href="#33-%E4%B8%BA%E4%BB%80%E4%B9%88">3.3. ä¸ºä»€ä¹ˆ</a></li></ul></li> <li><a href="#4-%E4%BD%BF%E7%94%A8%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8">4. ä½¿ç”¨é¢„å¤„ç†å™¨</a> <ul><li><a href="#41-sass">4.1. Sass</a></li> <li><a href="#42-less">4.2. Less</a></li> <li><a href="#43-stylus">4.3. Stylus</a></li> <li><a href="#44-postcss">4.4. PostCSS</a></li> <li><a href="#45-babel">4.5. Babel</a></li> <li><a href="#46-typescript">4.6. TypeScript</a></li> <li><a href="#47-pug">4.7. Pug</a></li></ul></li> <li><a href="#5-scoped-css">5. Scoped CSS</a> <ul><li><a href="#51-%E6%B7%B7%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%92%8C%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F">5.1. æ··ç”¨æœ¬åœ°å’Œå…¨å±€æ ·å¼</a></li> <li><a href="#52-%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E6%A0%B9%E5%85%83%E7%B4%A0">5.2. å­ç»„ä»¶çš„æ ¹å…ƒç´ </a></li> <li><a href="#53-%E6%B7%B1%E5%BA%A6%E4%BD%9C%E7%94%A8%E9%80%89%E6%8B%A9%E5%99%A8">5.3. æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</a></li> <li><a href="#54-%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84%E5%86%85%E5%AE%B9">5.4. åŠ¨æ€ç”Ÿæˆçš„å†…å®¹</a></li> <li><a href="#55-%E8%BF%98%E6%9C%89%E4%B8%80%E4%BA%9B%E8%A6%81%E7%95%99%E6%84%8F">5.5. è¿˜æœ‰ä¸€äº›è¦ç•™æ„</a></li></ul></li> <li><a href="#6-css-modules">6. CSS Modules</a> <ul><li><a href="#61-%E7%94%A8%E6%B3%95">6.1. ç”¨æ³•</a></li> <li><a href="#62-%E5%8F%AF%E9%80%89%E7%94%A8%E6%B3%95">6.2. å¯é€‰ç”¨æ³•</a></li> <li><a href="#63-%E5%92%8C%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8">6.3. å’Œé¢„å¤„ç†å™¨é…åˆä½¿ç”¨</a></li> <li><a href="#64-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%B3%A8%E5%85%A5%E5%90%8D%E7%A7%B0">6.4. è‡ªå®šä¹‰çš„æ³¨å…¥åç§°</a></li></ul></li> <li><a href="#7-%E7%83%AD%E9%87%8D%E8%BD%BD">7. çƒ­é‡è½½</a> <ul><li><a href="#71-%E7%8A%B6%E6%80%81%E4%BF%9D%E7%95%99%E8%A7%84%E5%88%99">7.1. çŠ¶æ€ä¿ç•™è§„åˆ™</a></li> <li><a href="#72-%E7%94%A8%E6%B3%95">7.2. ç”¨æ³•</a></li> <li><a href="#73-%E5%85%B3%E9%97%AD%E7%83%AD%E9%87%8D%E8%BD%BD">7.3. å…³é—­çƒ­é‡è½½</a></li></ul></li> <li><a href="#8-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6">8. å‡½æ•°å¼ç»„ä»¶</a></li> <li><a href="#9-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9D%97">9. è‡ªå®šä¹‰å—</a> <ul><li><a href="#91-example">9.1. Example</a></li></ul></li> <li><a href="#10-css-%E6%8F%90%E5%8F%96">10. CSS æå–</a> <ul><li><a href="#101-webpack-4">10.1. webpack 4</a></li> <li><a href="#102-webpack-3">10.2. webpack 3</a></li></ul></li> <li><a href="#11-%E4%BB%A3%E7%A0%81%E6%A0%A1%E9%AA%8C">11. ä»£ç æ ¡éªŒ</a> <ul><li><a href="#111-eslint">11.1. ESLint</a></li> <li><a href="#112-stylelint">11.2. stylelint</a></li></ul></li> <li><a href="#12-%E6%B5%8B%E8%AF%95">12. æµ‹è¯•</a></li> <li><a href="#13-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">13. å‚è€ƒèµ„æ–™</a></li></ul> <h2 id="_1-ç®€ä»‹"><a href="#_1-ç®€ä»‹" class="header-anchor">#</a> 1. ç®€ä»‹</h2> <p>Vue Loader æ˜¯ä¸€ä¸ª <a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„ loaderï¼Œå®ƒå…è®¸ä½ ä»¥ä¸€ç§åä¸º<a href="https://vue-loader.vuejs.org/zh/spec.html" target="_blank" rel="noopener noreferrer">å•æ–‡ä»¶ç»„ä»¶ (SFCs)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„æ ¼å¼æ’°å†™ Vue ç»„ä»¶ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      msg<span class="token operator">:</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.example</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Vue Loader è¿˜æä¾›äº†å¾ˆå¤šé…·ç‚«çš„ç‰¹æ€§ï¼š</p> <ul><li>å…è®¸ä¸º Vue ç»„ä»¶çš„æ¯ä¸ªéƒ¨åˆ†ä½¿ç”¨å…¶å®ƒçš„ webpack loaderï¼Œä¾‹å¦‚åœ¨ <code>&lt;style&gt;</code> çš„éƒ¨åˆ†ä½¿ç”¨ Sass å’Œåœ¨ <code>&lt;template&gt;</code> çš„éƒ¨åˆ†ä½¿ç”¨ Pugï¼›</li> <li>å…è®¸åœ¨ä¸€ä¸ª <code>.vue</code> æ–‡ä»¶ä¸­ä½¿ç”¨è‡ªå®šä¹‰å—ï¼Œå¹¶å¯¹å…¶è¿ç”¨è‡ªå®šä¹‰çš„ loader é“¾ï¼›</li> <li>ä½¿ç”¨ webpack loader å°† <code>&lt;style&gt;</code> å’Œ <code>&lt;template&gt;</code> ä¸­å¼•ç”¨çš„èµ„æºå½“ä½œæ¨¡å—ä¾èµ–æ¥å¤„ç†ï¼›</li> <li>ä¸ºæ¯ä¸ªç»„ä»¶æ¨¡æ‹Ÿå‡º scoped CSSï¼›</li> <li>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨çƒ­é‡è½½æ¥ä¿æŒçŠ¶æ€ã€‚</li></ul> <p>ç®€è€Œè¨€ä¹‹ï¼Œwebpack å’Œ Vue Loader çš„ç»“åˆä¸ºä½ æä¾›äº†ä¸€ä¸ªç°ä»£ã€çµæ´»ä¸”æå…¶å¼ºå¤§çš„å‰ç«¯å·¥ä½œæµï¼Œæ¥å¸®åŠ©æ’°å†™ Vue.js åº”ç”¨ã€‚</p> <h2 id="_2-èµ·æ­¥"><a href="#_2-èµ·æ­¥" class="header-anchor">#</a> 2. èµ·æ­¥</h2> <h3 id="_2-1-vue-cli"><a href="#_2-1-vue-cli" class="header-anchor">#</a> 2.1. Vue CLI</h3> <p>å¦‚æœä½ ä¸æƒ³æ‰‹åŠ¨è®¾ç½® webpackï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer">Vue CLI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç›´æ¥åˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è„šæ‰‹æ¶ã€‚é€šè¿‡ Vue CLI åˆ›å»ºçš„é¡¹ç›®ä¼šé’ˆå¯¹å¤šæ•°å¸¸è§çš„å¼€å‘éœ€æ±‚è¿›è¡Œé¢„å…ˆé…ç½®ï¼Œåšåˆ°å¼€ç®±å³ç”¨ã€‚</p> <p>å¦‚æœ Vue CLI æä¾›çš„å†…å»ºæ²¡æœ‰æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œæˆ–è€…ä½ ä¹äºä»é›¶å¼€å§‹åˆ›å»ºä½ è‡ªå·±çš„ webpack é…ç½®ï¼Œé‚£ä¹ˆè¯·ç»§ç»­é˜…è¯»è¿™ç¯‡æŒ‡å—ã€‚</p> <h3 id="_2-2-æ‰‹åŠ¨è®¾ç½®"><a href="#_2-2-æ‰‹åŠ¨è®¾ç½®" class="header-anchor">#</a> 2.2. æ‰‹åŠ¨è®¾ç½®</h3> <h4 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h4> <p>ä½ åº”è¯¥å°† <code>vue-loader</code> å’Œ <code>vue-template-compiler</code> ä¸€èµ·å®‰è£…â€”â€”é™¤éä½ æ˜¯ä½¿ç”¨è‡ªè¡Œ fork ç‰ˆæœ¬çš„ Vue æ¨¡æ¿ç¼–è¯‘å™¨çš„é«˜é˜¶ç”¨æˆ·ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D vue-loader vue-template-compiler
</code></pre></div><p><code>vue-template-compiler</code> éœ€è¦ç‹¬ç«‹å®‰è£…çš„åŸå› æ˜¯ä½ å¯ä»¥å•ç‹¬æŒ‡å®šå…¶ç‰ˆæœ¬ã€‚</p> <p>æ¯ä¸ª <code>vue</code> åŒ…çš„æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œä¸€ä¸ªç›¸åº”ç‰ˆæœ¬çš„ <code>vue-template-compiler</code> ä¹Ÿä¼šéšä¹‹å‘å¸ƒã€‚ç¼–è¯‘å™¨çš„ç‰ˆæœ¬å¿…é¡»å’ŒåŸºæœ¬çš„ <code>vue</code> åŒ…ä¿æŒåŒæ­¥ï¼Œè¿™æ · <code>vue-loader</code> å°±ä¼šç”Ÿæˆå…¼å®¹è¿è¡Œæ—¶çš„ä»£ç ã€‚è¿™æ„å‘³ç€<strong>ä½ æ¯æ¬¡å‡çº§é¡¹ç›®ä¸­çš„ <code>vue</code> åŒ…æ—¶ï¼Œä¹Ÿåº”è¯¥åŒ¹é…å‡çº§ <code>vue-template-compiler</code>ã€‚</strong></p> <h4 id="webpack-é…ç½®"><a href="#webpack-é…ç½®" class="header-anchor">#</a> webpack é…ç½®</h4> <p>Vue Loader çš„é…ç½®å’Œå…¶å®ƒçš„ loader ä¸å¤ªä¸€æ ·ã€‚é™¤äº†é€šè¿‡ä¸€æ¡è§„åˆ™å°† <code>vue-loader</code> åº”ç”¨åˆ°æ‰€æœ‰æ‰©å±•åä¸º <code>.vue</code> çš„æ–‡ä»¶ä¸Šä¹‹å¤–ï¼Œè¯·ç¡®ä¿åœ¨ä½ çš„ webpack é…ç½®ä¸­æ·»åŠ  Vue Loader çš„æ’ä»¶ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> VueLoaderPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... å…¶å®ƒè§„åˆ™</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>è¿™ä¸ªæ’ä»¶æ˜¯å¿…é¡»çš„ï¼</strong> å®ƒçš„èŒè´£æ˜¯å°†ä½ å®šä¹‰è¿‡çš„å…¶å®ƒè§„åˆ™å¤åˆ¶å¹¶åº”ç”¨åˆ° <code>.vue</code> æ–‡ä»¶é‡Œç›¸åº”è¯­è¨€çš„å—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€æ¡åŒ¹é… <code>/\.js$/</code> çš„è§„åˆ™ï¼Œé‚£ä¹ˆå®ƒä¼šåº”ç”¨åˆ° <code>.vue</code> æ–‡ä»¶é‡Œçš„ <code>&lt;script&gt;</code> å—ã€‚</p> <p>ä¸€ä¸ªæ›´å®Œæ•´çš„ webpack é…ç½®ç¤ºä¾‹çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> VueLoaderPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å®ƒä¼šåº”ç”¨åˆ°æ™®é€šçš„ `.js` æ–‡ä»¶</span>
      <span class="token comment">// ä»¥åŠ `.vue` æ–‡ä»¶ä¸­çš„ `&lt;script&gt;` å—</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å®ƒä¼šåº”ç”¨åˆ°æ™®é€šçš„ `.css` æ–‡ä»¶</span>
      <span class="token comment">// ä»¥åŠ `.vue` æ–‡ä»¶ä¸­çš„ `&lt;style&gt;` å—</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue-style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶æ¥æ–½å±•é­”æ³•</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ä½ ä¹Ÿå¯ä»¥åœ¨<a href="https://vue-loader.vuejs.org/zh/options.html" target="_blank" rel="noopener noreferrer">é€‰é¡¹å‚è€ƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æŸ¥é˜…æ‰€æœ‰å¯ç”¨çš„ loader é€‰é¡¹ã€‚</p> <blockquote><p>è­¦å‘Š</p> <p>å¦‚æœä½ åœ¨å¼€å‘ä¸€ä¸ªåº“æˆ–å¤šé¡¹ç›®ä»“åº“ (monorepo)ï¼Œè¯·æ³¨æ„å¯¼å…¥ CSS <strong>æ˜¯å…·æœ‰å‰¯ä½œç”¨çš„</strong>ã€‚è¯·ç¡®ä¿åœ¨ <code>package.json</code> ä¸­<strong>ç§»é™¤</strong> <code>&quot;sideEffects&quot;: false</code>ï¼Œå¦åˆ™ CSS ä»£ç å—ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒæ„å»ºæ—¶è¢« webpack ä¸¢æ‰ã€‚</p></blockquote> <h2 id="_3-å¤„ç†èµ„æºè·¯å¾„"><a href="#_3-å¤„ç†èµ„æºè·¯å¾„" class="header-anchor">#</a> 3. å¤„ç†èµ„æºè·¯å¾„</h2> <p>å½“ Vue Loader ç¼–è¯‘å•æ–‡ä»¶ç»„ä»¶ä¸­çš„ <code>&lt;template&gt;</code> å—æ—¶ï¼Œå®ƒä¹Ÿä¼šå°†æ‰€æœ‰é‡åˆ°çš„èµ„æº URL è½¬æ¢ä¸º <strong>webpack æ¨¡å—è¯·æ±‚</strong>ã€‚</p> <p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„æ¨¡æ¿ä»£ç ç‰‡æ®µï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../image.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å°†ä¼šè¢«ç¼–è¯‘æˆä¸ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  attrs<span class="token operator">:</span> <span class="token punctuation">{</span>
    src<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;../image.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ç°åœ¨è¿™æ˜¯ä¸€ä¸ªæ¨¡å—çš„è¯·æ±‚äº†</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>é»˜è®¤ä¸‹åˆ—æ ‡ç­¾/ç‰¹æ€§çš„ç»„åˆä¼šè¢«è½¬æ¢ï¼Œä¸”è¿™äº›ç»„åˆæ—¶å¯ä»¥ä½¿ç”¨ <a href="https://vue-loader.vuejs.org/zh/options.html#transformasseturls" target="_blank" rel="noopener noreferrer">transformAssetUrls<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> é€‰é¡¹è¿›è¡Œé…ç½®çš„ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  video<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'src'</span><span class="token punctuation">,</span> <span class="token string">'poster'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  source<span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span>
  img<span class="token operator">:</span> <span class="token string">'src'</span><span class="token punctuation">,</span>
  image<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'xlink:href'</span><span class="token punctuation">,</span> <span class="token string">'href'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'xlink:href'</span><span class="token punctuation">,</span> <span class="token string">'href'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ­¤å¤–ï¼Œå¦‚æœä½ é…ç½®äº†ä¸º <code>&lt;style&gt;</code> å—ä½¿ç”¨ <a href="https://github.com/webpack-contrib/css-loader" target="_blank" rel="noopener noreferrer">css-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œåˆ™ä½ çš„ CSS ä¸­çš„èµ„æº URL ä¹Ÿä¼šè¢«åŒç­‰å¤„ç†ã€‚</p> <h3 id="_3-1-è½¬æ¢è§„åˆ™"><a href="#_3-1-è½¬æ¢è§„åˆ™" class="header-anchor">#</a> 3.1. è½¬æ¢è§„åˆ™</h3> <p>èµ„æº URL è½¬æ¢ä¼šéµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p> <ul><li><p>å¦‚æœè·¯å¾„æ˜¯ç»å¯¹è·¯å¾„ (ä¾‹å¦‚ <code>/images/foo.png</code>)ï¼Œä¼šåŸæ ·ä¿ç•™ã€‚</p></li> <li><p>å¦‚æœè·¯å¾„ä»¥ <code>.</code> å¼€å¤´ï¼Œå°†ä¼šè¢«çœ‹ä½œç›¸å¯¹çš„æ¨¡å—ä¾èµ–ï¼Œå¹¶æŒ‰ç…§ä½ çš„æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç›®å½•ç»“æ„è¿›è¡Œè§£æã€‚</p></li> <li><p>å¦‚æœè·¯å¾„ä»¥ <code>~</code> å¼€å¤´ï¼Œå…¶åçš„éƒ¨åˆ†å°†ä¼šè¢«çœ‹ä½œæ¨¡å—ä¾èµ–ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ç”¨è¯¥ç‰¹æ€§æ¥å¼•ç”¨ä¸€ä¸ª Node ä¾èµ–ä¸­çš„èµ„æºï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>~some-npm-package/foo.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>å¦‚æœè·¯å¾„ä»¥ <code>@</code> å¼€å¤´ï¼Œä¹Ÿä¼šè¢«çœ‹ä½œæ¨¡å—ä¾èµ–ã€‚å¦‚æœä½ çš„ webpack é…ç½®ä¸­ç»™ <code>@</code> é…ç½®äº† aliasï¼Œè¿™å°±å¾ˆæœ‰ç”¨äº†ã€‚æ‰€æœ‰ <code>vue-cli</code> åˆ›å»ºçš„é¡¹ç›®éƒ½é»˜è®¤é…ç½®äº†å°† <code>@</code> æŒ‡å‘ <code>/src</code>ã€‚</p></li></ul> <h3 id="_3-2-ç›¸å…³çš„-loader"><a href="#_3-2-ç›¸å…³çš„-loader" class="header-anchor">#</a> 3.2. ç›¸å…³çš„ Loader</h3> <p>å› ä¸ºåƒ <code>.png</code> è¿™æ ·çš„æ–‡ä»¶ä¸æ˜¯ä¸€ä¸ª JavaScript æ¨¡å—ï¼Œä½ éœ€è¦é…ç½® webpack ä½¿ç”¨ <a href="https://github.com/webpack/file-loader" target="_blank" rel="noopener noreferrer">file-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æˆ–è€… <a href="https://github.com/webpack/url-loader" target="_blank" rel="noopener noreferrer">url-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å»åˆç†åœ°å¤„ç†å®ƒä»¬ã€‚é€šè¿‡ Vue CLI åˆ›å»ºçš„é¡¹ç›®å·²ç»æŠŠè¿™äº›é¢„é…ç½®å¥½äº†ã€‚</p> <h3 id="_3-3-ä¸ºä»€ä¹ˆ"><a href="#_3-3-ä¸ºä»€ä¹ˆ" class="header-anchor">#</a> 3.3. ä¸ºä»€ä¹ˆ</h3> <p>è½¬æ¢èµ„æº URL çš„å¥½å¤„æ˜¯ï¼š</p> <ol><li><code>file-loader</code> å¯ä»¥æŒ‡å®šè¦å¤åˆ¶å’Œæ”¾ç½®èµ„æºæ–‡ä»¶çš„ä½ç½®ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ç‰ˆæœ¬å“ˆå¸Œå‘½åä»¥è·å¾—æ›´å¥½çš„ç¼“å­˜ã€‚æ­¤å¤–ï¼Œè¿™æ„å‘³ç€ <strong>ä½ å¯ä»¥å°±è¿‘ç®¡ç†å›¾ç‰‡æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„è€Œä¸ç”¨æ‹…å¿ƒéƒ¨ç½²æ—¶ URL çš„é—®é¢˜</strong>ã€‚ä½¿ç”¨æ­£ç¡®çš„é…ç½®ï¼Œwebpack å°†ä¼šåœ¨æ‰“åŒ…è¾“å‡ºä¸­è‡ªåŠ¨é‡å†™æ–‡ä»¶è·¯å¾„ä¸ºæ­£ç¡®çš„ URLã€‚</li> <li><code>url-loader</code> å…è®¸ä½ æœ‰æ¡ä»¶åœ°å°†æ–‡ä»¶è½¬æ¢ä¸ºå†…è”çš„ base-64 URL (å½“æ–‡ä»¶å°äºç»™å®šçš„é˜ˆå€¼)ï¼Œè¿™ä¼šå‡å°‘å°æ–‡ä»¶çš„ HTTP è¯·æ±‚æ•°ã€‚å¦‚æœæ–‡ä»¶å¤§äºè¯¥é˜ˆå€¼ï¼Œä¼šè‡ªåŠ¨çš„äº¤ç»™ <code>file-loader</code> å¤„ç†ã€‚</li></ol> <h2 id="_4-ä½¿ç”¨é¢„å¤„ç†å™¨"><a href="#_4-ä½¿ç”¨é¢„å¤„ç†å™¨" class="header-anchor">#</a> 4. ä½¿ç”¨é¢„å¤„ç†å™¨</h2> <p>åœ¨ webpack ä¸­ï¼Œæ‰€æœ‰çš„é¢„å¤„ç†å™¨éœ€è¦åŒ¹é…å¯¹åº”çš„ loaderã€‚Vue Loader å…è®¸ä½ ä½¿ç”¨å…¶å®ƒ webpack loader å¤„ç† Vue ç»„ä»¶çš„æŸä¸€éƒ¨åˆ†ã€‚å®ƒä¼šæ ¹æ® <code>lang</code> ç‰¹æ€§ä»¥åŠä½  webpack é…ç½®ä¸­çš„è§„åˆ™è‡ªåŠ¨æ¨æ–­å‡ºè¦ä½¿ç”¨çš„ loaderã€‚</p> <h3 id="_4-1-sass"><a href="#_4-1-sass" class="header-anchor">#</a> 4.1. Sass</h3> <p>ä¾‹å¦‚ï¼Œä¸ºäº†é€šè¿‡ Sass/SCSS ç¼–è¯‘æˆ‘ä»¬çš„ <code>&lt;style&gt;</code> æ ‡ç­¾ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D sass-loader node-sass
</code></pre></div><p>åœ¨ä½ çš„ webpack é…ç½®ä¸­ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... å¿½ç•¥å…¶å®ƒè§„åˆ™</span>

      <span class="token comment">// æ™®é€šçš„ `.scss` æ–‡ä»¶å’Œ `*.vue` æ–‡ä»¶ä¸­çš„</span>
      <span class="token comment">// `&lt;style lang=&quot;scss&quot;&gt;` å—éƒ½åº”ç”¨å®ƒ</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vue-style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// æ’ä»¶å¿½ç•¥</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ï¼Œé™¤äº†èƒ½å¤Ÿ <code>import 'style.scss'</code>ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨ SCSSï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* åœ¨è¿™é‡Œæ’°å†™ SCSS */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™ä¸ªå—é‡Œçš„ä»»ä½•å†…å®¹éƒ½ä¼šè¢« webpack å½“ä½œåœ¨ä¸€ä¸ª <code>*.scss</code> æ–‡ä»¶ä¸­ä¸€æ ·è¢«å¤„ç†ã€‚</p> <h4 id="sass-vs-scss"><a href="#sass-vs-scss" class="header-anchor">#</a> Sass vs SCSS</h4> <p>æ³¨æ„ <code>sass-loader</code> ä¼šé»˜è®¤å¤„ç†ä¸åŸºäºç¼©è¿›çš„ <code>scss</code> è¯­æ³•ã€‚ä¸ºäº†ä½¿ç”¨åŸºäºç¼©è¿›çš„ <code>sass</code> è¯­æ³•ï¼Œä½ éœ€è¦å‘è¿™ä¸ª loader ä¼ é€’é€‰é¡¹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js -&gt; module.rules</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.sass$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
    <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">'sass-loader'</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        indentedSyntax<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// sass-loader version &gt;= 8</span>
        sassOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          indentedSyntax<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="å…±äº«å…¨å±€å˜é‡"><a href="#å…±äº«å…¨å±€å˜é‡" class="header-anchor">#</a> å…±äº«å…¨å±€å˜é‡</h4> <p><code>sass-loader</code> ä¹Ÿæ”¯æŒä¸€ä¸ª <code>prependData</code> é€‰é¡¹ï¼Œè¿™ä¸ªé€‰é¡¹å…è®¸ä½ åœ¨æ‰€æœ‰è¢«å¤„ç†çš„æ–‡ä»¶ä¹‹é—´å…±äº«å¸¸è§çš„å˜é‡ï¼Œè€Œä¸éœ€è¦æ˜¾å¼åœ°å¯¼å…¥å®ƒä»¬ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js -&gt; module.rules</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
    <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">'sass-loader'</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä½ ä¹Ÿå¯ä»¥ä»ä¸€ä¸ªæ–‡ä»¶è¯»å–ï¼Œä¾‹å¦‚ `variables.scss`</span>
        <span class="token comment">// å¦‚æœ sass-loader ç‰ˆæœ¬ = 8ï¼Œè¿™é‡Œä½¿ç”¨ `prependData` å­—æ®µ</span>
        <span class="token comment">// å¦‚æœ sass-loader ç‰ˆæœ¬ &lt; 8ï¼Œè¿™é‡Œä½¿ç”¨ `data` å­—æ®µ</span>
        additionalData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$color: red;</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-2-less"><a href="#_4-2-less" class="header-anchor">#</a> 4.2. Less</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D <span class="token function">less</span> less-loader
// webpack.config.js -<span class="token operator">&gt;</span> module.rules
<span class="token punctuation">{</span>
  test: /<span class="token punctuation">\</span>.less$/,
  use: <span class="token punctuation">[</span>
    <span class="token string">'vue-style-loader'</span>,
    <span class="token string">'css-loader'</span>,
    <span class="token string">'less-loader'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-3-stylus"><a href="#_4-3-stylus" class="header-anchor">#</a> 4.3. Stylus</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D stylus stylus-loader
// webpack.config.js -<span class="token operator">&gt;</span> module.rules
<span class="token punctuation">{</span>
  test: /<span class="token punctuation">\</span>.styl<span class="token punctuation">(</span>us<span class="token punctuation">)</span>?$/,
  use: <span class="token punctuation">[</span>
    <span class="token string">'vue-style-loader'</span>,
    <span class="token string">'css-loader'</span>,
    <span class="token string">'stylus-loader'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-4-postcss"><a href="#_4-4-postcss" class="header-anchor">#</a> 4.4. PostCSS</h3> <p>TIP</p> <p>Vue Loader v15 ä¸å†é»˜è®¤åº”ç”¨ PostCSS å˜æ¢ã€‚ä½ éœ€è¦é€šè¿‡ <code>postcss-loader</code> ä½¿ç”¨ PostCSSã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D postcss-loader
// webpack.config.js -<span class="token operator">&gt;</span> module.rules
<span class="token punctuation">{</span>
  test: /<span class="token punctuation">\</span>.css$/,
  use: <span class="token punctuation">[</span>
    <span class="token string">'vue-style-loader'</span>,
    <span class="token punctuation">{</span>
      loader: <span class="token string">'css-loader'</span>,
      options: <span class="token punctuation">{</span> importLoaders: <span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>,
    <span class="token string">'postcss-loader'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>PostCSS çš„é…ç½®å¯ä»¥é€šè¿‡ <code>postcss.config.js</code> æˆ– <code>postcss-loader</code> é€‰é¡¹æ¥å®Œæˆã€‚å…¶æ›´å¤šç»†èŠ‚è¯·æŸ¥é˜… <a href="https://github.com/postcss/postcss-loader" target="_blank" rel="noopener noreferrer">postcss-loader æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p><code>postcss-loader</code> ä¹Ÿå¯ä»¥å’Œä¸Šè¿°å…¶å®ƒé¢„å¤„ç†å™¨ç»“åˆä½¿ç”¨ã€‚</p> <h3 id="_4-5-babel"><a href="#_4-5-babel" class="header-anchor">#</a> 4.5. Babel</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D babel-core babel-loader
// webpack.config.js -<span class="token operator">&gt;</span> module.rules
<span class="token punctuation">{</span>
  test: /<span class="token punctuation">\</span>.js?$/,
  loader: <span class="token string">'babel-loader'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Babel çš„é…ç½®å¯ä»¥é€šè¿‡ <code>.babelrc</code> æˆ– <code>babel-loader</code> é€‰é¡¹æ¥å®Œæˆã€‚</p> <h4 id="æ’é™¤-node-modules"><a href="#æ’é™¤-node-modules" class="header-anchor">#</a> æ’é™¤ node_modules</h4> <p><code>exclude: /node_modules/</code> åœ¨åº”ç”¨äº <code>.js</code> æ–‡ä»¶çš„ JS è½¬è¯‘è§„åˆ™ (ä¾‹å¦‚ <code>babel-loader</code>) ä¸­æ˜¯è›®å¸¸è§çš„ã€‚é‰´äº v15 ä¸­çš„æ¨å¯¼å˜åŒ–ï¼Œå¦‚æœä½ å¯¼å…¥ä¸€ä¸ª <code>node_modules</code> å†…çš„ Vue å•æ–‡ä»¶ç»„ä»¶ï¼Œå®ƒçš„ <code>&lt;script&gt;</code> éƒ¨åˆ†åœ¨è½¬è¯‘æ—¶å°†ä¼šè¢«æ’é™¤åœ¨å¤–ã€‚</p> <p>ä¸ºäº†ç¡®ä¿ JS çš„è½¬è¯‘åº”ç”¨åˆ° <code>node_modules</code> çš„ Vue å•æ–‡ä»¶ç»„ä»¶ï¼Œä½ éœ€è¦é€šè¿‡ä½¿ç”¨ä¸€ä¸ªæ’é™¤å‡½æ•°å°†å®ƒä»¬åŠ å…¥ç™½åå•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">exclude</span><span class="token operator">:</span> <span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue\.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-6-typescript"><a href="#_4-6-typescript" class="header-anchor">#</a> 4.6. TypeScript</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D typescript ts-loader
// webpack.config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve: <span class="token punctuation">{</span>
    // å°† <span class="token variable"><span class="token variable">`</span>.ts<span class="token variable">`</span></span> æ·»åŠ ä¸ºä¸€ä¸ªå¯è§£æçš„æ‰©å±•åã€‚
    extensions: <span class="token punctuation">[</span><span class="token string">'.ts'</span>, <span class="token string">'.js'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>,
  module: <span class="token punctuation">{</span>
    rules: <span class="token punctuation">[</span>
      // <span class="token punctuation">..</span>. å¿½ç•¥å…¶å®ƒè§„åˆ™
      <span class="token punctuation">{</span>
        test: /<span class="token punctuation">\</span>.ts$/,
        loader: <span class="token string">'ts-loader'</span>,
        options: <span class="token punctuation">{</span> appendTsSuffixTo: <span class="token punctuation">[</span>/<span class="token punctuation">\</span>.vue$/<span class="token punctuation">]</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>,
  // <span class="token punctuation">..</span>.plugin omitted
<span class="token punctuation">}</span>
</code></pre></div><p>TypeScript çš„é…ç½®å¯ä»¥é€šè¿‡ <code>tsconfig.json</code> æ¥å®Œæˆã€‚ä½ ä¹Ÿå¯ä»¥æŸ¥é˜… <a href="https://github.com/TypeStrong/ts-loader" target="_blank" rel="noopener noreferrer">ts-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„æ–‡æ¡£ã€‚</p> <h3 id="_4-7-pug"><a href="#_4-7-pug" class="header-anchor">#</a> 4.7. Pug</h3> <p>æ¨¡æ¿çš„å¤„ç†ä¼šç¨å¾®æœ‰äº›ä¸åŒï¼Œå› ä¸ºç»å¤§å¤šæ•° webpack çš„æ¨¡æ¿ç±» loaderï¼Œè¯¸å¦‚ <code>pug-loader</code>ï¼Œä¼šè¿”å›ä¸€ä¸ªæ¨¡æ¿å‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªç¼–è¯‘å¥½çš„ HTML å­—ç¬¦ä¸²ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªè¿”å›åŸå§‹çš„ HTML å­—ç¬¦ä¸²çš„ loaderï¼Œä¾‹å¦‚ <code>pug-plain-loader</code>ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <code>pug-loader</code>ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D pug pug-plain-loader
// webpack.config.js -<span class="token operator">&gt;</span> module.rules
<span class="token punctuation">{</span>
  test: /<span class="token punctuation">\</span>.pug$/,
  loader: <span class="token string">'pug-plain-loader'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶åä½ å¯ä»¥å†™ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pug<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> div h1 Hello world! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¦‚æœä½ è¿˜æ‰“ç®—ä½¿ç”¨å®ƒåœ¨ JavaScript ä¸­å°† <code>.pug</code> æ–‡ä»¶ä½œä¸ºå­—ç¬¦ä¸²å¯¼å…¥ï¼Œä½ éœ€è¦åœ¨è¿™ä¸ªé¢„å¤„ç† loader ä¹‹åé“¾ä¸Š <code>raw-loader</code>ã€‚æ³¨æ„æ·»åŠ  <code>raw-loader</code> ä¼šç ´å Vue ç»„ä»¶å†…çš„ç”¨æ³•ï¼Œæ‰€ä»¥ä½ éœ€è¦å®šä¹‰ä¸¤æ¡è§„åˆ™ï¼Œå…¶ä¸­ä¸€æ¡æŒ‡å‘ä½¿ç”¨äº†ä¸€ä¸ª <code>resourceQuery</code> çš„ Vue æ–‡ä»¶ï¼Œå¦ä¸€æ¡æŒ‡å‘ (å›é€€åˆ°) JavaScript å¯¼å…¥ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js -&gt; module.rules</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.pug$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¿™æ¡è§„åˆ™åº”ç”¨åˆ° Vue ç»„ä»¶å†…çš„ `&lt;template lang=&quot;pug&quot;&gt;`</span>
    <span class="token punctuation">{</span>
      resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\?vue</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'pug-plain-loader'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// è¿™æ¡è§„åˆ™åº”ç”¨åˆ° JavaScript å†…çš„ pug å¯¼å…¥</span>
    <span class="token punctuation">{</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'raw-loader'</span><span class="token punctuation">,</span> <span class="token string">'pug-plain-loader'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-scoped-css"><a href="#_5-scoped-css" class="header-anchor">#</a> 5. Scoped CSS</h2> <p>å½“ <code>&lt;style&gt;</code> æ ‡ç­¾æœ‰ <code>scoped</code> å±æ€§æ—¶ï¼Œå®ƒçš„ CSS åªä½œç”¨äºå½“å‰ç»„ä»¶ä¸­çš„å…ƒç´ ã€‚è¿™ç±»ä¼¼äº Shadow DOM ä¸­çš„æ ·å¼å°è£…ã€‚å®ƒæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œä½†ä¸éœ€è¦ä»»ä½• polyfillã€‚å®ƒé€šè¿‡ä½¿ç”¨ PostCSS æ¥å®ç°ä»¥ä¸‹è½¬æ¢ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.example</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è½¬æ¢ç»“æœï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.example[data-v-f3f3eg9]</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-v-f3f3eg9</span><span class="token punctuation">&gt;</span></span>hi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_5-1-æ··ç”¨æœ¬åœ°å’Œå…¨å±€æ ·å¼"><a href="#_5-1-æ··ç”¨æœ¬åœ°å’Œå…¨å±€æ ·å¼" class="header-anchor">#</a> 5.1. æ··ç”¨æœ¬åœ°å’Œå…¨å±€æ ·å¼</h3> <p>ä½ å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­åŒæ—¶ä½¿ç”¨æœ‰ scoped å’Œé scoped æ ·å¼ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* å…¨å±€æ ·å¼ */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* æœ¬åœ°æ ·å¼ */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_5-2-å­ç»„ä»¶çš„æ ¹å…ƒç´ "><a href="#_5-2-å­ç»„ä»¶çš„æ ¹å…ƒç´ " class="header-anchor">#</a> 5.2. å­ç»„ä»¶çš„æ ¹å…ƒç´ </h3> <p>ä½¿ç”¨ <code>scoped</code> åï¼Œçˆ¶ç»„ä»¶çš„æ ·å¼å°†ä¸ä¼šæ¸—é€åˆ°å­ç»„ä»¶ä¸­ã€‚ä¸è¿‡ä¸€ä¸ªå­ç»„ä»¶çš„æ ¹èŠ‚ç‚¹ä¼šåŒæ—¶å—å…¶çˆ¶ç»„ä»¶çš„ scoped CSS å’Œå­ç»„ä»¶çš„ scoped CSS çš„å½±å“ã€‚è¿™æ ·è®¾è®¡æ˜¯ä¸ºäº†è®©çˆ¶ç»„ä»¶å¯ä»¥ä»å¸ƒå±€çš„è§’åº¦å‡ºå‘ï¼Œè°ƒæ•´å…¶å­ç»„ä»¶æ ¹å…ƒç´ çš„æ ·å¼ã€‚</p> <h3 id="_5-3-æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"><a href="#_5-3-æ·±åº¦ä½œç”¨é€‰æ‹©å™¨" class="header-anchor">#</a> 5.3. æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</h3> <p>å¦‚æœä½ å¸Œæœ› <code>scoped</code> æ ·å¼ä¸­çš„ä¸€ä¸ªé€‰æ‹©å™¨èƒ½å¤Ÿä½œç”¨å¾—â€œæ›´æ·±â€ï¼Œä¾‹å¦‚å½±å“å­ç»„ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>&gt;&gt;&gt;</code> æ“ä½œç¬¦ï¼š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.a &gt;&gt;&gt; .b</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šè¿°ä»£ç å°†ä¼šç¼–è¯‘æˆï¼š</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.a[data-v-f3f3eg9] .b</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æœ‰äº›åƒ Sass ä¹‹ç±»çš„é¢„å¤„ç†å™¨æ— æ³•æ­£ç¡®è§£æ <code>&gt;&gt;&gt;</code>ã€‚è¿™ç§æƒ…å†µä¸‹ä½ å¯ä»¥ä½¿ç”¨ <code>/deep/</code> æˆ– <code>::v-deep</code> æ“ä½œç¬¦å–è€Œä»£ä¹‹â€”â€”ä¸¤è€…éƒ½æ˜¯ <code>&gt;&gt;&gt;</code> çš„åˆ«åï¼ŒåŒæ ·å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p> <h3 id="_5-4-åŠ¨æ€ç”Ÿæˆçš„å†…å®¹"><a href="#_5-4-åŠ¨æ€ç”Ÿæˆçš„å†…å®¹" class="header-anchor">#</a> 5.4. åŠ¨æ€ç”Ÿæˆçš„å†…å®¹</h3> <p>é€šè¿‡ <code>v-html</code> åˆ›å»ºçš„ DOM å†…å®¹ä¸å— scoped æ ·å¼å½±å“ï¼Œä½†æ˜¯ä½ ä»ç„¶å¯ä»¥é€šè¿‡æ·±åº¦ä½œç”¨é€‰æ‹©å™¨æ¥ä¸ºä»–ä»¬è®¾ç½®æ ·å¼ã€‚</p> <h3 id="_5-5-è¿˜æœ‰ä¸€äº›è¦ç•™æ„"><a href="#_5-5-è¿˜æœ‰ä¸€äº›è¦ç•™æ„" class="header-anchor">#</a> 5.5. è¿˜æœ‰ä¸€äº›è¦ç•™æ„</h3> <ul><li><strong>Scoped æ ·å¼ä¸èƒ½ä»£æ›¿ class</strong>ã€‚è€ƒè™‘åˆ°æµè§ˆå™¨æ¸²æŸ“å„ç§ CSS é€‰æ‹©å™¨çš„æ–¹å¼ï¼Œå½“ <code>p { color: red }</code> æ˜¯ scoped æ—¶ (å³ä¸ç‰¹æ€§é€‰æ‹©å™¨ç»„åˆä½¿ç”¨æ—¶) ä¼šæ…¢å¾ˆå¤šå€ã€‚å¦‚æœä½ ä½¿ç”¨ class æˆ–è€… id å–è€Œä»£ä¹‹ï¼Œæ¯”å¦‚ <code>.example { color: red }</code>ï¼Œæ€§èƒ½å½±å“å°±ä¼šæ¶ˆé™¤ã€‚</li> <li><strong>åœ¨é€’å½’ç»„ä»¶ä¸­å°å¿ƒä½¿ç”¨åä»£é€‰æ‹©å™¨!</strong> å¯¹é€‰æ‹©å™¨ <code>.a .b</code> ä¸­çš„ CSS è§„åˆ™æ¥è¯´ï¼Œå¦‚æœåŒ¹é… <code>.a</code> çš„å…ƒç´ åŒ…å«ä¸€ä¸ªé€’å½’å­ç»„ä»¶ï¼Œåˆ™æ‰€æœ‰çš„å­ç»„ä»¶ä¸­çš„ <code>.b</code> éƒ½å°†è¢«è¿™ä¸ªè§„åˆ™åŒ¹é…ã€‚</li></ul> <h2 id="_6-css-modules"><a href="#_6-css-modules" class="header-anchor">#</a> 6. CSS Modules</h2> <p><a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS Modules<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ä¸€ä¸ªæµè¡Œçš„ï¼Œç”¨äºæ¨¡å—åŒ–å’Œç»„åˆ CSS çš„ç³»ç»Ÿã€‚<code>vue-loader</code> æä¾›äº†ä¸ CSS Modules çš„ä¸€æµé›†æˆï¼Œå¯ä»¥ä½œä¸ºæ¨¡æ‹Ÿ scoped CSS çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p> <h3 id="_6-1-ç”¨æ³•"><a href="#_6-1-ç”¨æ³•" class="header-anchor">#</a> 6.1. ç”¨æ³•</h3> <p>é¦–å…ˆï¼ŒCSS Modules å¿…é¡»é€šè¿‡å‘ <code>css-loader</code> ä¼ å…¥ <code>modules: true</code> æ¥å¼€å¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
<span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ... å…¶å®ƒè§„åˆ™çœç•¥</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;vue-style-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å¼€å¯ CSS Modules</span>
              modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token comment">// è‡ªå®šä¹‰ç”Ÿæˆçš„ç±»å</span>
              localIdentName<span class="token operator">:</span> <span class="token string">&quot;[local]_[hash:base64:8]&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶ååœ¨ä½ çš„ <code>&lt;style&gt;</code> ä¸Šæ·»åŠ  <code>module</code> ç‰¹æ€§ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.red</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bold</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™ä¸ª <code>module</code> ç‰¹æ€§æŒ‡å¼• Vue Loader ä½œä¸ºåä¸º <code>$style</code> çš„è®¡ç®—å±æ€§ï¼Œå‘ç»„ä»¶æ³¨å…¥ CSS Modules å±€éƒ¨å¯¹è±¡ã€‚ç„¶åä½ å°±å¯ä»¥åœ¨æ¨¡æ¿ä¸­é€šè¿‡ä¸€ä¸ªåŠ¨æ€ç±»ç»‘å®šæ¥ä½¿ç”¨å®ƒäº†ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$style.red<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This should be red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å› ä¸ºè¿™æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ”¯æŒ <code>:class</code> çš„å¯¹è±¡/æ•°ç»„è¯­æ³•ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ [$style.red]: isRed }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Am I red?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[$style.red, $style.bold]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Red and bold<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ JavaScript è®¿é—®åˆ°å®ƒï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$style<span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// -&gt; &quot;red_1VyoJ-uZ&quot;</span>
    <span class="token comment">// ä¸€ä¸ªåŸºäºæ–‡ä»¶åå’Œç±»åç”Ÿæˆçš„æ ‡è¯†ç¬¦</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½ å¯ä»¥æŸ¥é˜… <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS Modules è§„èŒƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>äº†è§£æ›´å¤šç»†èŠ‚ï¼Œè¯¸å¦‚ <a href="https://github.com/css-modules/css-modules#exceptions" target="_blank" rel="noopener noreferrer">global exceptions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ <a href="https://github.com/css-modules/css-modules#composition" target="_blank" rel="noopener noreferrer">composition<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç­‰ã€‚</p> <h3 id="_6-2-å¯é€‰ç”¨æ³•"><a href="#_6-2-å¯é€‰ç”¨æ³•" class="header-anchor">#</a> 6.2. å¯é€‰ç”¨æ³•</h3> <p>å¦‚æœä½ åªæƒ³åœ¨æŸäº› Vue ç»„ä»¶ä¸­ä½¿ç”¨ CSS Modulesï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>oneOf</code> è§„åˆ™å¹¶åœ¨ <code>resourceQuery</code> å­—ç¬¦ä¸²ä¸­æ£€æŸ¥ <code>module</code> å­—ç¬¦ä¸²ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js -&gt; module.rules</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¿™é‡ŒåŒ¹é… `&lt;style module&gt;`</span>
    <span class="token punctuation">{</span>
      resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">module</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            localIdentName<span class="token operator">:</span> <span class="token string">'[local]_[hash:base64:5]'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// è¿™é‡ŒåŒ¹é…æ™®é€šçš„ `&lt;style&gt;` æˆ– `&lt;style scoped&gt;`</span>
    <span class="token punctuation">{</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
        <span class="token string">'css-loader'</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-3-å’Œé¢„å¤„ç†å™¨é…åˆä½¿ç”¨"><a href="#_6-3-å’Œé¢„å¤„ç†å™¨é…åˆä½¿ç”¨" class="header-anchor">#</a> 6.3. å’Œé¢„å¤„ç†å™¨é…åˆä½¿ç”¨</h3> <p>CSS Modules å¯ä»¥ä¸å…¶å®ƒé¢„å¤„ç†å™¨ä¸€èµ·ä½¿ç”¨ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js -&gt; module.rules</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span> modules<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'sass-loader'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-4-è‡ªå®šä¹‰çš„æ³¨å…¥åç§°"><a href="#_6-4-è‡ªå®šä¹‰çš„æ³¨å…¥åç§°" class="header-anchor">#</a> 6.4. è‡ªå®šä¹‰çš„æ³¨å…¥åç§°</h3> <p>åœ¨ <code>.vue</code> ä¸­ä½ å¯ä»¥å®šä¹‰ä¸æ­¢ä¸€ä¸ª <code>&lt;style&gt;</code>ï¼Œä¸ºäº†é¿å…è¢«è¦†ç›–ï¼Œä½ å¯ä»¥é€šè¿‡è®¾ç½® <code>module</code> å±æ€§æ¥ä¸ºå®ƒä»¬å®šä¹‰æ³¨å…¥åè®¡ç®—å±æ€§çš„åç§°ã€‚</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* æ³¨å…¥æ ‡è¯†ç¬¦ a */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* æ³¨å…¥æ ‡è¯†ç¬¦ b */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_7-çƒ­é‡è½½"><a href="#_7-çƒ­é‡è½½" class="header-anchor">#</a> 7. çƒ­é‡è½½</h2> <p>â€œçƒ­é‡è½½â€ä¸åªæ˜¯å½“ä½ ä¿®æ”¹æ–‡ä»¶çš„æ—¶å€™ç®€å•é‡æ–°åŠ è½½é¡µé¢ã€‚å¯ç”¨çƒ­é‡è½½åï¼Œå½“ä½ ä¿®æ”¹ <code>.vue</code> æ–‡ä»¶æ—¶ï¼Œè¯¥ç»„ä»¶çš„æ‰€æœ‰å®ä¾‹å°†åœ¨<strong>ä¸åˆ·æ–°é¡µé¢</strong>çš„æƒ…å†µä¸‹è¢«æ›¿æ¢ã€‚å®ƒç”šè‡³ä¿æŒäº†åº”ç”¨ç¨‹åºå’Œè¢«æ›¿æ¢ç»„ä»¶çš„å½“å‰çŠ¶æ€ï¼å½“ä½ è°ƒæ•´æ¨¡ç‰ˆæˆ–è€…ä¿®æ”¹æ ·å¼æ—¶ï¼Œè¿™æå¤§åœ°æé«˜äº†å¼€å‘ä½“éªŒã€‚</p> <h3 id="_7-1-çŠ¶æ€ä¿ç•™è§„åˆ™"><a href="#_7-1-çŠ¶æ€ä¿ç•™è§„åˆ™" class="header-anchor">#</a> 7.1. çŠ¶æ€ä¿ç•™è§„åˆ™</h3> <ul><li>å½“ç¼–è¾‘ä¸€ä¸ªç»„ä»¶çš„ <code>&lt;template&gt;</code> æ—¶ï¼Œè¿™ä¸ªç»„ä»¶å®ä¾‹å°†å°±åœ°é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä¿ç•™å½“å‰æ‰€æœ‰çš„ç§æœ‰çŠ¶æ€ã€‚èƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹æ˜¯å› ä¸ºæ¨¡æ¿è¢«ç¼–è¯‘æˆäº†æ–°çš„æ— å‰¯ä½œç”¨çš„æ¸²æŸ“å‡½æ•°ã€‚</li> <li>å½“ç¼–è¾‘ä¸€ä¸ªç»„ä»¶çš„ <code>&lt;script&gt;</code> æ—¶ï¼Œè¿™ä¸ªç»„ä»¶å®ä¾‹å°†å°±åœ°é”€æ¯å¹¶é‡æ–°åˆ›å»ºã€‚(åº”ç”¨ä¸­å…¶å®ƒç»„ä»¶çš„çŠ¶æ€å°†ä¼šè¢«ä¿ç•™) æ˜¯å› ä¸º <code>&lt;script&gt;</code> å¯èƒ½åŒ…å«å¸¦æœ‰å‰¯ä½œç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œæ‰€ä»¥å°†é‡æ–°æ¸²æŸ“æ›¿æ¢ä¸ºé‡æ–°åŠ è½½æ˜¯å¿…é¡»çš„ï¼Œè¿™æ ·åšå¯ä»¥ç¡®ä¿ç»„ä»¶è¡Œä¸ºçš„ä¸€è‡´æ€§ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœä½ çš„ç»„ä»¶å¸¦æœ‰å…¨å±€å‰¯ä½œç”¨ï¼Œåˆ™æ•´ä¸ªé¡µé¢å°†ä¼šè¢«é‡æ–°åŠ è½½ã€‚</li> <li><code>&lt;style&gt;</code>Â  ä¼šé€šè¿‡ Â <code>vue-style-loader</code>Â  è‡ªè¡Œçƒ­é‡è½½ï¼Œæ‰€ä»¥å®ƒä¸ä¼šå½±å“åº”ç”¨çš„çŠ¶æ€ã€‚</li></ul> <h3 id="_7-2-ç”¨æ³•"><a href="#_7-2-ç”¨æ³•" class="header-anchor">#</a> 7.2. ç”¨æ³•</h3> <p>å½“ä½¿ç”¨è„šæ‰‹æ¶å·¥å…· <code>vue-cli</code> æ—¶ï¼Œçƒ­é‡è½½æ˜¯å¼€ç®±å³ç”¨çš„ã€‚</p> <p>å½“æ‰‹åŠ¨è®¾ç½®ä½ çš„å·¥ç¨‹æ—¶ï¼Œçƒ­é‡è½½ä¼šåœ¨ä½ å¯åŠ¨ <code>webpack-dev-server --hot</code> æœåŠ¡æ—¶è‡ªåŠ¨å¼€å¯ã€‚</p> <p>é«˜é˜¶ç”¨æˆ·å¯èƒ½å¸Œæœ›ç§»æ­¥ <code>vue-loader</code> å†…éƒ¨ä½¿ç”¨çš„ <a href="https://github.com/vuejs/vue-hot-reload-api" target="_blank" rel="noopener noreferrer">vue-hot-reload-api<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç»§ç»­æŸ¥é˜…ã€‚</p> <h3 id="_7-3-å…³é—­çƒ­é‡è½½"><a href="#_7-3-å…³é—­çƒ­é‡è½½" class="header-anchor">#</a> 7.3. å…³é—­çƒ­é‡è½½</h3> <p>çƒ­é‡è½½é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œé™¤éé‡åˆ°ä»¥ä¸‹æƒ…å†µï¼š</p> <ul><li>webpack çš„ <code>target</code> çš„å€¼æ˜¯ <code>node</code> (æœåŠ¡ç«¯æ¸²æŸ“)</li> <li>webpack ä¼šå‹ç¼©ä»£ç </li> <li><code>process.env.NODE_ENV === 'production'</code></li></ul> <p>ä½ å¯ä»¥è®¾ç½® <code>hotReload: false</code> é€‰é¡¹æ¥æ˜¾å¼åœ°å…³é—­çƒ­é‡è½½ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token operator">:</span> <span class="token punctuation">{</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      loader<span class="token operator">:</span> <span class="token string">&quot;vue-loader&quot;</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        hotReload<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å…³é—­çƒ­é‡è½½</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-å‡½æ•°å¼ç»„ä»¶"><a href="#_8-å‡½æ•°å¼ç»„ä»¶" class="header-anchor">#</a> 8. å‡½æ•°å¼ç»„ä»¶</h2> <p>åœ¨ä¸€ä¸ª <code>*.vue</code> æ–‡ä»¶ä¸­ä»¥å•æ–‡ä»¶å½¢å¼å®šä¹‰çš„å‡½æ•°å¼ç»„ä»¶ï¼Œç°åœ¨å¯¹äºæ¨¡æ¿ç¼–è¯‘ã€scoped CSS å’Œçƒ­é‡è½½ä¹Ÿæœ‰äº†è‰¯å¥½çš„æ”¯æŒã€‚</p> <p>è¦å£°æ˜ä¸€ä¸ªåº”è¯¥ç¼–è¯‘ä¸ºå‡½æ•°å¼ç»„ä»¶çš„æ¨¡æ¿ï¼Œè¯·å°† <code>functional</code> ç‰¹æ€§æ·»åŠ åˆ°æ¨¡æ¿å—ä¸­ã€‚è¿™æ ·åšä»¥åå°±å¯ä»¥çœç•¥ <code>&lt;script&gt;</code> å—ä¸­çš„ <code>functional</code> é€‰é¡¹ã€‚</p> <p>æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼ä¼šåœ¨<a href="https://cn.vuejs.org/v2/guide/render-function.html#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6" target="_blank" rel="noopener noreferrer">å‡½æ•°å¼æ¸²æŸ“ä¸Šä¸‹æ–‡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸­æ±‚å€¼ã€‚è¿™æ„å‘³ç€åœ¨æ¨¡æ¿ä¸­ï¼Œprop éœ€è¦ä»¥ <code>props.xxx</code> çš„å½¢å¼è®¿é—®ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">functional</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ props.foo }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä½ å¯ä»¥åœ¨ <code>parent</code> ä¸Šè®¿é—® <code>Vue.prototype</code> å…¨å±€å®šä¹‰çš„å±æ€§ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">functional</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ parent.$someProperty }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_9-è‡ªå®šä¹‰å—"><a href="#_9-è‡ªå®šä¹‰å—" class="header-anchor">#</a> 9. è‡ªå®šä¹‰å—</h2> <p>åœ¨ <code>.vue</code> æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰è¯­è¨€å—ã€‚åº”ç”¨äºä¸€ä¸ªè‡ªå®šä¹‰å—çš„ loader æ˜¯åŸºäºè¿™ä¸ªå—çš„ <code>lang</code> ç‰¹æ€§ã€å—çš„æ ‡ç­¾åä»¥åŠä½ çš„ webpack é…ç½®è¿›è¡ŒåŒ¹é…çš„ã€‚</p> <p>å¦‚æœæŒ‡å®šäº†ä¸€ä¸ª <code>lang</code> ç‰¹æ€§ï¼Œåˆ™è¿™ä¸ªè‡ªå®šä¹‰å—å°†ä¼šä½œä¸ºä¸€ä¸ªå¸¦æœ‰è¯¥ <code>lang</code> æ‰©å±•åçš„æ–‡ä»¶è¿›è¡ŒåŒ¹é…ã€‚</p> <p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>resourceQuery</code> æ¥ä¸ºä¸€ä¸ªæ²¡æœ‰ <code>lang</code> çš„è‡ªå®šä¹‰å—åŒ¹é…ä¸€æ¡è§„åˆ™ã€‚ä¾‹å¦‚ä¸ºäº†åŒ¹é…è‡ªå®šä¹‰å— <code>&lt;foo&gt;</code>ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">blockType=foo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;loader-to-use&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ªè‡ªå®šä¹‰å—çš„åŒ¹é…è§„åˆ™ï¼Œå®ƒå°†ä¼šè¢«å¤„ç†ï¼Œå¦åˆ™è¯¥è‡ªå®šä¹‰å—ä¼šè¢«é»˜é»˜å¿½ç•¥ã€‚</p> <p>æ­¤å¤–ï¼Œå¦‚æœè¿™ä¸ªè‡ªå®šä¹‰å—è¢«æ‰€æœ‰åŒ¹é…çš„ loader å¤„ç†ä¹‹åå¯¼å‡ºä¸€ä¸ªå‡½æ•°ä½œä¸ºæœ€ç»ˆç»“æœï¼Œåˆ™è¿™ä¸ª <code>*.vue</code> æ–‡ä»¶çš„ç»„ä»¶ä¼šä½œä¸ºä¸€ä¸ªå‚æ•°è¢«è¿™ä¸ªå‡½æ•°è°ƒç”¨ã€‚</p> <h3 id="_9-1-example"><a href="#_9-1-example" class="header-anchor">#</a> 9.1. Example</h3> <p>è¿™é‡Œæœ‰ä¸€ä¸ªå‘ç»„ä»¶å†…æ³¨å…¥ <code>&lt;docs&gt;</code> è‡ªå®šä¹‰å—çš„ç¤ºä¾‹ï¼Œä¸”å®ƒæ˜¯åœ¨è¿è¡Œæ—¶å¯ç”¨çš„ã€‚</p> <p>ä¸ºäº†æ³¨å…¥è‡ªå®šä¹‰å—çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†ä¼šæ’°å†™ä¸€ä¸ªè‡ªå®šä¹‰ loaderï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">export default function (Component) {
      Component.options.__docs = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
    }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    map
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬å°†ä¼šé…ç½® webpack æ¥ä½¿ç”¨ä¸º <code>&lt;docs&gt;</code> è‡ªå®šä¹‰å—æ’°å†™çš„è‡ªå®šä¹‰ loaderã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// wepback.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">blockType=docs</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;./docs-loader.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶è®¿é—®è¢«å¯¼å…¥ç»„ä»¶çš„ <code>&lt;docs&gt;</code> å—å†…å®¹äº†ã€‚</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- ComponentB.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>docs</span><span class="token punctuation">&gt;</span></span>
This is the documentation for component B.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>docs</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- ComponentA.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ComponentB</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ docs }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> ComponentB <span class="token keyword">from</span> <span class="token string">&quot;./ComponentB.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span> ComponentB <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      docs<span class="token operator">:</span> ComponentB<span class="token punctuation">.</span>__docs<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_10-css-æå–"><a href="#_10-css-æå–" class="header-anchor">#</a> 10. CSS æå–</h2> <blockquote><p>æç¤º</p> <p>è¯·åªåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨ CSS æå–ï¼Œè¿™å°†ä¾¿äºä½ åœ¨å¼€å‘ç¯å¢ƒä¸‹è¿›è¡Œçƒ­é‡è½½ã€‚</p></blockquote> <h3 id="_10-1-webpack-4"><a href="#_10-1-webpack-4" class="header-anchor">#</a> 10.1. webpack 4</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D mini-css-extract-plugin
// webpack.config.js
var MiniCssExtractPlugin <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span>

module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  // å…¶å®ƒé€‰é¡¹<span class="token punctuation">..</span>.
  module: <span class="token punctuation">{</span>
    rules: <span class="token punctuation">[</span>
      // <span class="token punctuation">..</span>. å¿½ç•¥å…¶å®ƒè§„åˆ™
      <span class="token punctuation">{</span>
        test: /<span class="token punctuation">\</span>.css$/,
        use: <span class="token punctuation">[</span>
          process.env.NODE_ENV <span class="token operator">!=</span><span class="token operator">=</span> <span class="token string">'production'</span>
            ? <span class="token string">'vue-style-loader'</span>
            <span class="token builtin class-name">:</span> MiniCssExtractPlugin.loader,
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>,
  plugins: <span class="token punctuation">[</span>
    // <span class="token punctuation">..</span>. å¿½ç•¥ vue-loader æ’ä»¶
    new MiniCssExtractPlugin<span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename: <span class="token string">'style.css'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½ è¿˜å¯ä»¥æŸ¥é˜… <a href="https://github.com/webpack-contrib/mini-css-extract-plugin" target="_blank" rel="noopener noreferrer">mini-css-extract-plugin æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h3 id="_10-2-webpack-3"><a href="#_10-2-webpack-3" class="header-anchor">#</a> 10.2. webpack 3</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D extract-text-webpack-plugin
// webpack.config.js
var ExtractTextPlugin <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span>

module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  // å…¶å®ƒé€‰é¡¹<span class="token punctuation">..</span>.
  module: <span class="token punctuation">{</span>
    rules: <span class="token punctuation">[</span>
      // <span class="token punctuation">..</span>.å…¶å®ƒè§„åˆ™å¿½ç•¥
      <span class="token punctuation">{</span>
        test: /<span class="token punctuation">\</span>.css$/,
        loader: ExtractTextPlugin.extract<span class="token punctuation">(</span><span class="token punctuation">{</span>
          use: <span class="token string">'css-loader'</span>,
          fallback: <span class="token string">'vue-style-loader'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>,
  plugins: <span class="token punctuation">[</span>
    // <span class="token punctuation">..</span>.vue-loader æ’ä»¶å¿½ç•¥
    new ExtractTextPlugin<span class="token punctuation">(</span><span class="token string">&quot;style.css&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½ ä¹Ÿå¯ä»¥æŸ¥é˜… <a href="https://github.com/webpack-contrib/extract-text-webpack-plugin" target="_blank" rel="noopener noreferrer">extract-text-webpack-plugin æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <h2 id="_11-ä»£ç æ ¡éªŒ"><a href="#_11-ä»£ç æ ¡éªŒ" class="header-anchor">#</a> 11. ä»£ç æ ¡éªŒ</h2> <h3 id="_11-1-eslint"><a href="#_11-1-eslint" class="header-anchor">#</a> 11.1. ESLint</h3> <p>å®˜æ–¹çš„ <a href="https://eslint.vuejs.org/" target="_blank" rel="noopener noreferrer">eslint-plugin-vue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åŒæ—¶æ”¯æŒåœ¨ Vue å•æ–‡ä»¶ç»„ä»¶çš„æ¨¡æ¿å’Œè„šæœ¬éƒ¨åˆ†çš„ä»£ç æ ¡éªŒã€‚</p> <p>è¯·ç¡®è®¤åœ¨ä½ çš„ ESLint é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨è¯¥æ’ä»¶è¦å¯¼å…¥çš„é…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æ¥ä¸‹æ¥ä»å‘½ä»¤è¡Œè¿è¡Œï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>eslint --ext js,vue MyComponent.vue
</code></pre></div><p>å¦ä¸€ä¸ªé€‰é¡¹æ˜¯ä½¿ç”¨ <a href="https://github.com/MoOx/eslint-loader" target="_blank" rel="noopener noreferrer">eslint-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> é‚£ä¹ˆä½ çš„ <code>*.vue</code> æ–‡ä»¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯æ¬¡ä¿å­˜çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è¿›è¡Œä»£ç æ ¡éªŒï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D eslint eslint-loader
</code></pre></div><p>è¯·ç¡®ä¿å®ƒæ˜¯ä½œä¸ºä¸€ä¸ª pre-loader è¿ç”¨çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... å…¶å®ƒé€‰é¡¹</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        enforce<span class="token operator">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|vue)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&quot;eslint-loader&quot;</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_11-2-stylelint"><a href="#_11-2-stylelint" class="header-anchor">#</a> 11.2. stylelint</h3> <p><a href="https://stylelint.io/" target="_blank" rel="noopener noreferrer">stylelint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ”¯æŒåœ¨ Vue å•æ–‡ä»¶ç»„ä»¶çš„æ ·å¼éƒ¨åˆ†çš„ä»£ç æ ¡éªŒã€‚</p> <p><a href="https://stylelint.io/user-guide/configuration/" target="_blank" rel="noopener noreferrer">è¯·ç¡®è®¤åœ¨ä½ çš„ stylelint é…ç½®æ–‡ä»¶æ­£ç¡®ã€‚<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æ¥ä¸‹æ¥ä»å‘½ä»¤è¡Œè¿è¡Œï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>stylelint MyComponent.vue
</code></pre></div><p>å¦ä¸€ä¸ªé€‰é¡¹æ˜¯ä½¿ç”¨ <a href="https://github.com/webpack-contrib/stylelint-webpack-plugin" target="_blank" rel="noopener noreferrer">stylelint-webpack-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D stylelint-webpack-plugin
</code></pre></div><p>è¯·ç¡®ä¿å®ƒæ˜¯ä½œä¸ºä¸€ä¸ªæ’ä»¶è¿ç”¨çš„ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> StyleLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;stylelint-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... å…¶å®ƒé€‰é¡¹</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">StyleLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;**/*.{vue,htm,html,css,sss,less,scss,sass}&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_12-æµ‹è¯•"><a href="#_12-æµ‹è¯•" class="header-anchor">#</a> 12. æµ‹è¯•</h2> <ul><li><a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer">Vue CLI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æä¾›äº†é¢„é…ç½®çš„å•å…ƒæµ‹è¯•å’Œ e2e æµ‹è¯•å®‰è£…ã€‚</li> <li>å¦‚æœä½ æœ‰å…´è¶£ä¸º <code>*.vue</code> æ–‡ä»¶æ‰‹åŠ¨è®¾ç½®å•å…ƒæµ‹è¯•ï¼Œè¯·æŸ¥è¯¢ <a href="https://vue-test-utils.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">@vue/test-utils<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„æ–‡æ¡£ï¼Œè¿™ä»½æ–‡æ¡£æ¶µç›–äº†å¯¹ <a href="https://vue-test-utils.vuejs.org/zh/guides/#%E7%94%A8-mocha-%E5%92%8C-webpack-%E6%B5%8B%E8%AF%95%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6" target="_blank" rel="noopener noreferrer">mocha-webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æˆ– <a href="https://vue-test-utils.vuejs.org/zh/guides/#%E7%94%A8-jest-%E6%B5%8B%E8%AF%95%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6" target="_blank" rel="noopener noreferrer">Jest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„è®¾ç½®ã€‚</li></ul> <h2 id="_13-å‚è€ƒèµ„æ–™"><a href="#_13-å‚è€ƒèµ„æ–™" class="header-anchor">#</a> 13. å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://vue-loader.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vue Loader å®˜ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/vuejs/vue-loader" target="_blank" rel="noopener noreferrer">Vue Loader Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/frontend-tutorial/edit/master/docs/vue/vue-loader.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/frontend-tutorial/assets/js/app.0f2f3ef1.js" defer></script><script src="/frontend-tutorial/assets/js/4.0f425322.js" defer></script><script src="/frontend-tutorial/assets/js/59.9031b427.js" defer></script><script src="/frontend-tutorial/assets/js/5.608566ca.js" defer></script>
  </body>
</html>
